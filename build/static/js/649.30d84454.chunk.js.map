{"version":3,"file":"static/js/649.30d84454.chunk.js","mappings":"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","sources":["components/uielements/checkbox.js","components/uielements/styles/checkbox.style.js","components/utility/pageAction.style.js","components/utility/pageAction.js","customApp/CustomHook/useKey.js","customApp/containers/DanhMuc/DMPhanTichKQ/modalAddEdit.js","customApp/containers/DanhMuc/DMPhanTichKQ/index.js"],"sourcesContent":["import { Checkbox } from 'antd';\nimport AntCheckbox from './styles/checkbox.style';\n\nconst checkbox = AntCheckbox(Checkbox);\nconst CheckboxGroup = Checkbox.Group;\n\nexport default checkbox;\nexport { CheckboxGroup };\n","import styled from \"styled-components\";\nimport { palette } from \"styled-theme\";\n\nconst AntCheckbox = ComponentName => styled(ComponentName)`\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ${palette(\"text\", 1)};\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ${palette(\"primary\", 0)};\n      border-color: ${palette(\"primary\", 0)};\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ${palette(\"primary\", 0)};\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ${palette(\"primary\", 0)};\n      }\n    }\n  }\n`;\n\nexport default AntCheckbox;\n","import styled from 'styled-components';\r\nimport WithDirection from '../../settings/withDirection';\r\n\r\nconst WDComponentDivAction = styled.div`\r\n    text-align: right;\r\n    display: inline-block;\r\n    flex: 1;\r\n    padding: 0 3px 0 0;\r\n    @media only screen and (max-width: 1336px) {\r\n        text-align: left;\r\n        display: block;\r\n        flex: none;\r\n        width: 100%;\r\n        padding: 0 0 10px 0;\r\n    }\r\n    button {\r\n        margin-right: 0px;\r\n        margin-left: 10px;\r\n        @media only screen and (max-width: 1336px) {\r\n            margin-left: 0px;\r\n            margin-right: 10px;\r\n        }\r\n    }\r\n`;\r\n\r\nconst ComponentDivAction = WithDirection(WDComponentDivAction);\r\nexport { ComponentDivAction };\r\n","import React from 'react';\r\nimport { ComponentDivAction } from './pageAction.style';\r\n\r\nexport default props =>\r\n  <ComponentDivAction>\r\n      {props.children}\r\n  </ComponentDivAction>;\r\n","import {useEffect, useState} from \"react\";\r\n\r\nfunction useKey(props) {\r\n  const [modalKey, setModalKey] = useState(0);\r\n  const increaseKey = () => {\r\n    setModalKey(modalKey + 1);\r\n  };\r\n  return [modalKey, increaseKey];\r\n}\r\n\r\nexport {useKey};","import React, { useEffect, useRef, useState } from 'react';\r\nimport { ITEM_LAYOUT2, ITEM_LAYOUT, ITEM_LAYOUT_SMALL_2, REQUIRED } from '../../../../settings/constants';\r\nimport { Form, Radio } from 'antd';\r\nimport { Button, Modal, InputFormatSpecific, Input } from '../../../../components/uielements/exportComponent';\r\nimport { checkInputNumber } from '../../../../helpers/utility';\r\nimport TextArea from 'antd/lib/input/TextArea';\r\n\r\nconst { Item, useForm } = Form;\r\n\r\nexport default (props) => {\r\n    const [form] = useForm();\r\n    const [isFormSuccess, setIsFormSuccess] = useState(true);\r\n    const { dataEdit, loading, visible, action } = props;\r\n\r\n    const [value1, setValue1] = useState();\r\n\r\n    useEffect(() => {\r\n        console.log(dataEdit);\r\n        if (dataEdit && dataEdit.PhanTichKQID) {\r\n            form &&\r\n                form.setFieldsValue({\r\n                    ...dataEdit,\r\n                });\r\n        }\r\n    }, []);\r\n    const onChange1 = (e) => {\r\n        setValue1(e.target.value);\r\n    };\r\n    const onOk = async (e) => {\r\n        e.preventDefault();\r\n        const value = await form.validateFields();\r\n        if (action === 'edit') {\r\n            props.onCreate({\r\n                ...value,\r\n                TrangThai: value1 || value.TrangThai,\r\n            });\r\n        }\r\n        if (action === 'add') {\r\n            props.onCreate({\r\n                ...value,\r\n                TrangThai: value1 === undefined ? true : value1,\r\n            });\r\n        }\r\n    };\r\n    const handleChangedFields = async (changedValues, allValues) => {\r\n        const value = await form.getFieldsValue();\r\n        const { MaPhanTichKQ, TenPhanTichKQ, TrangThai, GhiChu } = value;\r\n        if (\r\n            MaPhanTichKQ &&\r\n            TenPhanTichKQ &&\r\n            (MaPhanTichKQ !== dataEdit.MaPhanTichKQ ||\r\n                TenPhanTichKQ !== dataEdit.TenPhanTichKQ ||\r\n                TrangThai !== dataEdit.TrangThai ||\r\n                GhiChu !== dataEdit.GhiChu)\r\n        ) {\r\n            setIsFormSuccess(false);\r\n        } else {\r\n            setIsFormSuccess(true);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Modal\r\n            title={`${action === 'edit' ? 'Sửa' : 'Thêm'} thông tin phân tích kết quả`}\r\n            width={450}\r\n            visible={visible}\r\n            onCancel={props.onCancel}\r\n            footer={[\r\n                <Button key=\"back\" onClick={props.onCancel}>\r\n                    Hủy\r\n                </Button>,\r\n                <Button\r\n                    key=\"submit\"\r\n                    htmlType=\"submit\"\r\n                    type=\"primary\"\r\n                    form=\"formmonhoc\"\r\n                    loading={loading}\r\n                    onClick={onOk}\r\n                    disabled={isFormSuccess}\r\n                >\r\n                    Lưu\r\n                </Button>,\r\n            ]}\r\n        >\r\n            <Form form={form} name={'formmonhoc'} onChange={handleChangedFields}>\r\n                {action === 'edit' ? <Item name={'PhanTichKQID'} hidden /> : ''}\r\n                <Item label=\"Mã phân tích KQ\" name={'MaPhanTichKQ'} {...ITEM_LAYOUT} rules={[REQUIRED]}>\r\n                    <InputFormatSpecific />\r\n                </Item>\r\n                <Item label=\"Tên phân tích KQ\" name={'TenPhanTichKQ'} {...ITEM_LAYOUT} rules={[REQUIRED]}>\r\n                    <Input />\r\n                </Item>\r\n                <Item label=\"Ghi chú\" name={'GhiChu'} {...ITEM_LAYOUT}>\r\n                    <TextArea />\r\n                </Item>\r\n                <Item label=\"Đang sử dụng\" name={'TrangThai'} {...ITEM_LAYOUT}>\r\n                    <Radio.Group onChange={onChange1} value={value1} defaultValue={true}>\r\n                        <Radio value={true}>Có</Radio>\r\n                        <Radio value={false}>Không</Radio>\r\n                    </Radio.Group>\r\n                </Item>\r\n            </Form>\r\n        </Modal>\r\n    );\r\n};\r\n","import { Modal, Table, Tooltip, message } from \"antd\";\r\nimport actions from \"../../../redux/DanhMuc/DMPhanTichKetQua/actions\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport LayoutWrapper from \"../../../../components/utility/layoutWrapper\";\r\nimport PageHeader from \"../../../../components/utility/pageHeader\";\r\nimport PageAction from \"../../../../components/utility/pageAction\";\r\nimport Box from \"../../../../components/utility/box\";\r\nimport BoxFilter from \"../../../../components/utility/boxFilter\";\r\nimport BoxTable from \"../../../../components/utility/boxTable\";\r\nimport {\r\n  Button,\r\n  InputSearch,\r\n  Select,\r\n} from \"../../../../components/uielements/exportComponent\";\r\nimport {\r\n  changeUrlFilter,\r\n  exportExcel,\r\n  getDefaultPageSize,\r\n  getFilterData,\r\n  getRoleByKey,\r\n} from \"../../../../helpers/utility\";\r\nimport { useKey } from \"../../../CustomHook/useKey\";\r\nimport queryString from \"query-string\";\r\nimport api from \"./config\";\r\nimport moment from \"moment\";\r\nimport ModalAddEdit from \"./modalAddEdit\";\r\nimport { DeleteOutlined, EditOutlined, PlusOutlined } from \"@ant-design/icons\";\r\nimport Checkbox from \"../../../../components/uielements/checkbox\";\r\n\r\nconst QLPhanTichKQ = (props) => {\r\n  document.title = \"Danh Mục Phân Tích Kết Quả\";\r\n  const [filterData, setFilterData] = useState(\r\n    queryString.parse(props.location.search)\r\n  );\r\n  const [dataModalAddEdit, setDataModalAddEdit] = useState({});\r\n  const [visibleModalAddEdit, setVisibleModalAddEdit] = useState(false);\r\n  const [action, setAction] = useState(\"\");\r\n  const [modalKey, inceaseModalKey] = useKey();\r\n  const [selectedRowsKey, setSelectedRowsKey] = useState([]);\r\n  const [confirmLoading, setConfirmLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    changeUrlFilter(filterData);\r\n    props.getList(filterData);\r\n  }, [filterData]);\r\n\r\n  useEffect(() => {\r\n    props.getList(filterData);\r\n  }, []);\r\n\r\n  const onTableChange = (pagination, filters, sorter) => {\r\n    let oldFilterData = filterData;\r\n    let onOrder = { pagination, filters, sorter };\r\n    let newFilterData = getFilterData(oldFilterData, null, onOrder);\r\n\r\n    setFilterData(newFilterData);\r\n    setSelectedRowsKey([]);\r\n  };\r\n\r\n  const onFilter = (value, property) => {\r\n    let oldFilterData = filterData;\r\n    let onFilter = { value, property };\r\n    let newfilterData = getFilterData(oldFilterData, onFilter, null);\r\n    //get filter data\r\n    setFilterData(newfilterData);\r\n    setSelectedRowsKey([]);\r\n  };\r\n\r\n  const showModalAdd = () => {\r\n    setAction(\"add\");\r\n    setDataModalAddEdit({});\r\n    inceaseModalKey();\r\n    setVisibleModalAddEdit(true);\r\n  };\r\n\r\n  const deleteModalAddEdit = (PhanTichKQID) => {\r\n    Modal.confirm({\r\n      title: \"Xóa Dữ Liệu\",\r\n      content: \"Bạn có muốn xóa kết quả này không?\",\r\n      cancelText: \"Không\",\r\n      okText: \"Có\",\r\n      onOk: () => {\r\n        setConfirmLoading(true);\r\n        api\r\n          .XoaPhanTichKQ(PhanTichKQID)\r\n          .then((res) => {\r\n            if (res.data.Status > 0) {\r\n              setConfirmLoading(false);\r\n              props.getList({\r\n                ...filterData,\r\n                PageNumber:\r\n                  Math.ceil((TotalRow - 1) / filterData.PageSize) <\r\n                  filterData.PageNumber\r\n                    ? Math.ceil((TotalRow - 1) / filterData.PageSize)\r\n                    : filterData.PageNumber,\r\n              });\r\n              message.destroy();\r\n              message.success(res.data.Message);\r\n              setFilterData({\r\n                ...filterData,\r\n                PageNumber:\r\n                  Math.ceil((TotalRow - 1) / filterData.PageSize) <\r\n                  filterData.PageNumber\r\n                    ? Math.ceil((TotalRow - 1) / filterData.PageSize)\r\n                    : filterData.PageNumber,\r\n              });\r\n            } else {\r\n              message.destroy();\r\n              message.error(res.data.Message);\r\n            }\r\n          })\r\n          .catch((error) => {\r\n            message.destroy();\r\n            message.error(error.toString());\r\n          });\r\n      },\r\n    });\r\n  };\r\n\r\n  const showModalEdit = (id) => {\r\n    const PhanTichKQID = id;\r\n    setAction(\"edit\");\r\n    api\r\n      .ChiTietPhanTichKQ({ PhanTichKQID })\r\n      .then((res) => {\r\n        console.log(res);\r\n        if (res.data.Status > 0) {\r\n          setDataModalAddEdit(res.data.Data);\r\n          inceaseModalKey();\r\n          setVisibleModalAddEdit(true);\r\n        } else {\r\n          message.destroy();\r\n          message.error(res.data.Message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        message.destroy();\r\n        message.error(error.toString());\r\n      });\r\n  };\r\n\r\n  const hideModalAddEdit = () => {\r\n    setSelectedRowsKey([]);\r\n    setDataModalAddEdit({});\r\n    setVisibleModalAddEdit(false);\r\n  };\r\n\r\n  const submitModalAddEdit = (data) => {\r\n    setConfirmLoading(true);\r\n    if (action === \"add\") {\r\n      api\r\n        .ThemPhanTichKQ(data)\r\n        .then((res) => {\r\n          setConfirmLoading(false);\r\n          if (res.data.Status > 0) {\r\n            message.destroy();\r\n            message.success(res.data.Message);\r\n            hideModalAddEdit();\r\n            props.getList(filterData);\r\n          } else {\r\n            setConfirmLoading(false);\r\n            message.destroy();\r\n            message.error(res.data.Message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setConfirmLoading(false);\r\n          message.destroy();\r\n          message.error(error.toString());\r\n        });\r\n    }\r\n    if (action === \"edit\") {\r\n      api\r\n        .CapNhatPhanTichKQ(data)\r\n        .then((res) => {\r\n          if (res.data.Status > 0) {\r\n            setConfirmLoading(false);\r\n            message.destroy();\r\n            message.success(res.data.Message);\r\n            hideModalAddEdit();\r\n            props.getList(filterData);\r\n          } else {\r\n            setConfirmLoading(false);\r\n            message.destroy();\r\n            message.error(res.data.Message);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          setConfirmLoading(false);\r\n          message.destroy();\r\n          message.error(error.toString());\r\n        });\r\n    }\r\n  };\r\n  const rederCheckBox = (record) => {\r\n    return <Checkbox checked={record.TrangThai} />;\r\n  };\r\n\r\n  const renderThaoTac = (record) => {\r\n    return (\r\n      <div className={\"action-btn\"}>\r\n        {/* {role.edit ? */}\r\n        <Tooltip title={\"Sửa\"}>\r\n          <EditOutlined onClick={() => showModalEdit(record.PhanTichKQID)} />\r\n        </Tooltip>\r\n        {/* : \"\"} */}\r\n        {/* {role.delete ? */}\r\n        <Tooltip title={\"Xóa\"}>\r\n          <DeleteOutlined\r\n            onClick={() => deleteModalAddEdit(record.PhanTichKQID)}\r\n          />\r\n        </Tooltip>\r\n        {/* : \"\"} */}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const { DanhSachPhanTichKQ, TotalRow, role } = props;\r\n  const PageNumber = filterData.PageNumber\r\n    ? parseInt(filterData.PageNumber)\r\n    : 1;\r\n  const PageSize = filterData.PageSize\r\n    ? parseInt(filterData.PageSize)\r\n    : getDefaultPageSize();\r\n\r\n  const columns = [\r\n    {\r\n      title: \"STT\",\r\n      width: \"5%\",\r\n      align: \"center\",\r\n      render: (text, record, index) => (\r\n        <span>{(PageNumber - 1) * PageSize + (index + 1)}</span>\r\n      ),\r\n    },\r\n    {\r\n      title: \"Mã phân tích kết quả\",\r\n      dataIndex: \"MaPhanTichKQ\",\r\n      align: \"left\",\r\n      width: \"15%\",\r\n    },\r\n    {\r\n      title: \"Tên phân tích kết quả\",\r\n      dataIndex: \"TenPhanTichKQ\",\r\n      align: \"left\",\r\n      width: \"25%\",\r\n    },\r\n    {\r\n      title: \"Ghi chú\",\r\n      dataIndex: \"GhiChu\",\r\n      align: \"left\",\r\n      width: \"35%\",\r\n    },\r\n    {\r\n      title: \"Đang sử dụng\",\r\n      align: \"center\",\r\n      width: \"10%\",\r\n      render: (text, record) => rederCheckBox(record),\r\n    },\r\n    {\r\n      title: \"Thao tác\",\r\n      width: \"10%\",\r\n      align: \"center\",\r\n      render: (text, record) => renderThaoTac(record),\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <LayoutWrapper>\r\n      <PageHeader>Danh Mục Phân Tích Kết Quả</PageHeader>\r\n      <PageAction>\r\n        {/* {role ? role.add ?  */}\r\n        <Button type=\"primary\" onClick={showModalAdd}>\r\n          <PlusOutlined />\r\n          Thêm Mới\r\n        </Button>\r\n        {/* //  : '' : ''} */}\r\n      </PageAction>\r\n      <Box>\r\n        <BoxFilter>\r\n          <Select\r\n            style={{ width: \"200px\" }}\r\n            defaultValue={\r\n              filterData.Status\r\n                ? filterData.Status === \"true\"\r\n                  ? \"Đang sử dụng\"\r\n                  : \"Không sử dụng\"\r\n                : undefined\r\n            }\r\n            placeholder={\"Chọn trạng thái\"}\r\n            allowClear\r\n            onChange={(value) => onFilter(value, \"Status\")}\r\n          >\r\n            <Option value={true}>Đang sử dụng</Option>\r\n            <Option value={false}>Không sử dụng</Option>\r\n          </Select>\r\n          <InputSearch\r\n            defaultValue={filterData.Keyword}\r\n            placeholder={\"Nhập mã hoặc tên phân tích kết quả\"}\r\n            style={{ width: 300 }}\r\n            onSearch={(value) => onFilter(value, \"keyword\")}\r\n            allowClear\r\n          />\r\n        </BoxFilter>\r\n        <BoxTable\r\n          columns={columns}\r\n          dataSource={DanhSachPhanTichKQ}\r\n          onChange={onTableChange}\r\n          pagination={{\r\n            showSizeChanger: true,\r\n            showTotal: (total, range) =>\r\n              `Từ ${range[0]} đến ${range[1]} trên ${total} kết quả`,\r\n            total: TotalRow,\r\n            current: PageNumber,\r\n            pageSize: PageSize,\r\n          }}\r\n        />\r\n      </Box>\r\n      <ModalAddEdit\r\n        visible={visibleModalAddEdit}\r\n        dataEdit={dataModalAddEdit}\r\n        action={action}\r\n        loading={confirmLoading}\r\n        key={modalKey}\r\n        onCreate={submitModalAddEdit}\r\n        onCancel={hideModalAddEdit}\r\n        DanhSachPhanTichKQ={DanhSachPhanTichKQ}\r\n      />\r\n    </LayoutWrapper>\r\n  );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    ...state.DanhMucPhanTichKQ,\r\n    role: getRoleByKey(state.Auth.role, \"quan-ly-nam-hoc\"),\r\n  };\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(QLPhanTichKQ);\r\n"],"names":["checkbox","ComponentName","styled","palette","AntCheckbox","Checkbox","CheckboxGroup","WDComponentDivAction","ComponentDivAction","WithDirection","props","children","useKey","useState","modalKey","setModalKey","Item","Form","useForm","form","isFormSuccess","setIsFormSuccess","dataEdit","loading","visible","action","value1","setValue1","useEffect","console","log","PhanTichKQID","setFieldsValue","onOk","e","preventDefault","validateFields","value","onCreate","TrangThai","undefined","handleChangedFields","changedValues","allValues","getFieldsValue","MaPhanTichKQ","TenPhanTichKQ","GhiChu","title","width","onCancel","footer","onClick","htmlType","type","disabled","name","onChange","hidden","label","ITEM_LAYOUT","rules","REQUIRED","TextArea","target","defaultValue","connect","state","DanhMucPhanTichKQ","role","getRoleByKey","Auth","actions","document","queryString","location","search","filterData","setFilterData","dataModalAddEdit","setDataModalAddEdit","visibleModalAddEdit","setVisibleModalAddEdit","setAction","inceaseModalKey","setSelectedRowsKey","confirmLoading","setConfirmLoading","changeUrlFilter","getList","onFilter","property","oldFilterData","newfilterData","getFilterData","hideModalAddEdit","renderThaoTac","record","className","EditOutlined","id","api","then","res","data","Status","Data","message","Message","catch","error","toString","showModalEdit","DeleteOutlined","Modal","content","cancelText","okText","PageNumber","Math","ceil","TotalRow","PageSize","DanhSachPhanTichKQ","parseInt","getDefaultPageSize","columns","align","render","text","index","dataIndex","checked","rederCheckBox","PlusOutlined","style","placeholder","allowClear","Option","Keyword","onSearch","dataSource","pagination","filters","sorter","onOrder","newFilterData","showSizeChanger","showTotal","total","range","current","pageSize"],"sourceRoot":""}