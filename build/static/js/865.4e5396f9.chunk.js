"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[865],{71285:function(e,n,t){t.d(n,{Z:function(){return s}});t(72791);var a,o=t(17186),r=t(63463),i=t(17192),l=r.ZP.div(a||(a=(0,o.Z)(["\n    text-align: right;\n    display: inline-block;\n    flex: 1;\n    padding: 0 3px 0 0;\n    @media only screen and (max-width: 1336px) {\n        text-align: left;\n        display: block;\n        flex: none;\n        width: 100%;\n        padding: 0 0 10px 0;\n    }\n    button {\n        margin-right: 0px;\n        margin-left: 10px;\n        @media only screen and (max-width: 1336px) {\n            margin-left: 0px;\n            margin-right: 10px;\n        }\n    }\n"]))),d=(0,i.Z)(l),p=t(80184),s=function(e){return(0,p.jsx)(d,{children:e.children})}},41145:function(e,n,t){t.d(n,{z:function(){return r}});var a=t(50678),o=t(72791);function r(e){var n=(0,o.useState)(0),t=(0,a.Z)(n,2),r=t[0],i=t[1];return[r,function(){i(r+1)}]}},63865:function(e,n,t){t.d(n,{Z:function(){return f}});var a,o=t(18489),r=t(50678),i=t(72791),l=(t(47375),t(4245),t(52591),t(36043),t(35667),t(71285),t(7111),t(66914),t(70297),t(31303)),d=t(77027),p=t(20043),s=t(53834),c=t(17186),u=t(63463).ZP.div(a||(a=(0,c.Z)([" \n    flex-basis: 100%;\n    height: 100%;\n    .visible {\n        display: none;\n    }\n    .wrapperLoading {\n      background : rgba(255,255,255,0.5);\n      position: absolute;\n      top: 70px;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n    }\n        p {\n            text-align: left;\n        }\n        .disabled-rowItem {\n            display: none;\n        }\n        .wrapper__table {\n            max-height: 630px;\n            overflow-y: scroll;\n            width: calc(100% + 5px);\n            /* box-shadow : 0px 1px 0px 0px black; */\n        }\n        /* table, th, td {\n            border: 1px solid black;\n            border-color: #000000;\n        } */\n        #my-table {\n            table-layout: fixed;\n            /* width: 100%; */\n            width : ","\n    \n        }\n        div.wrapper-table {\n            /* max-height: 550px; */\n        }\n        tbody tr {\n            border: 1px solid;\n            border-color: #000000;\n            height: 50px;\n        }\n        tbody   .trHover:hover {\n            background-color: #e6e6e6;\n            cursor: pointer;\n            input {\n                background-color: #e6e6e6 !important;\n            }\n        }\n        tbody input {\n            width: 100%;\n            border: none;\n            outline: none;\n        }\n        table {\n            border-collapse: collapse;\n            /* height: 100%; */\n            table-layout: fixed;\n            /* max-height: 300px; */\n        }\n        th {\n            font-size: 12px;\n        }\n        thead {\n            z-index: 222;\n            background: #fff;\n            position: sticky;\n            top: 0px;\n        }\n        thead th {\n            padding: 10px;\n            border: 1px solid;\n            border-color: #000000;\n            /* display:table; */\n            /* table-layout:fixed; */\n            box-shadow: 0 0 1px rgba(255, 255, 255, 0.5);\n        }\n        tbody th {\n            border: 1px solid;\n            border-color: #000000;\n            word-break : break-all\n            /* border-left: 1px solid;\n             */\n        }\n        tbody td  {\n            border: 1px solid;\n            border-color: #000000;\n        }\n        /* thead,tbody { display: block; } */\n\n        tbody {\n         \n            overflow-y: auto;    /* Trigger vertical scroll    */\n            overflow-x: hidden;  /* Hide the horizontal scroll */\n            border-collapse: collapse;\n            width: 100%;\n            table-layout: fixed;\n        }\n        table thead th {\n            border-top: none !important;\n            border-bottom: none !important;\n            box-shadow: inset 0 -1px 0 #000000, inset 0 1px 0 #000000;\n            font-size: 15px;\n            height: 50px;\n  /* padding: 2px 0; */\n        }\n\n"])),(function(e){return e.TableWidth})),h=t(80184),v=function(e){var n=e.tableHeader,t=e.tableData,a=(e.ChiTietDonThu,e.setStep),c=e.Step,v=e.GetChiTietDonThu,f=(e.setThongTinBaoCaoChiTiet,e.loading),m=e.loadingDetailsReport,b=e.onRollBack,g=e.DetailsReportPayload,D=(0,i.useState)({}),C=(0,r.Z)(D,2),x=(C[0],C[1],(0,i.useState)(!1)),y=(0,r.Z)(x,2);y[0],y[1],(0,i.useRef)();(0,i.useEffect)((function(){if(2===c){var e=document.getElementById("wrapper__table"),n=1;console.log(e,"table"),e.addEventListener("scroll",(function(){if(Math.abs(e.scrollHeight-e.clientHeight-e.scrollTop)<1){console.log("end scroll"),n++;var t=v(null===g||void 0===g?void 0:g.CapID,null===g||void 0===g?void 0:g.Index,null===g||void 0===g?void 0:g.CoQuanID,"get",n);console.log(t,"ListDataReport")}}),{passive:!0})}}),[c]);var E=function e(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n&&(t++,n.forEach((function(a,o){if(a.DataChild,a.Cap=t,o===n.length-1){var r=n.filter((function(e){return e.DataChild}));r.forEach((function(n){e(n.DataChild,t)}))}})))},I=function(){console.log("render table header");var e={Name:"",props:{className:"",children:[]}};return E(n),function n(t,a){t&&t.map((function(r){if(r.DataChild){var l,d={Name:"",props:{},propsChild:[]},p={Name:"",props:{},propsChild:[]};r.DataChild||(d.props.rowSpan=0),p.props.id=null===a||void 0===a?void 0:a.Cap,d.props.id=r.ID;!function e(n,t){n.forEach((function(n){n.props.propsChild&&n.props.propsChild.length>0?String(n.props.id)===String(t)?l=n:e(n.props.propsChild,null===t||void 0===t?void 0:t.toString()):String(n.props.id)===String(t)&&(l=n)}))}(e.props.children?e.props.children:[],null===a||void 0===a?void 0:a.Cap),d.props.className="parent__group";d.props.colSpan=function(e,n){var t=0;return function e(n,a){a?n.map((function(n){n.ID===a.ID?n.DataChild&&e(n.DataChild,null):n.DataChild&&n.ID!==a.ID&&e(n.DataChild,a)})):n.map((function(n){n.DataChild?e(n.DataChild,null,t):t+=1}))}(e,n),t}(t,r),d.Name=r.Name;var s=i.createElement("th",(0,o.Z)({},d.props),[d.Name]),c=i.createElement("tr",(0,o.Z)({},p.props),[s]);if(l){var u=!1,h=l.props.children;if(h)for(var v=0;v<h.length;v++){var f;Number(null===(f=h[v].props)||void 0===f?void 0:f.id)===Number(r.ID)&&(u=!0)}u||l.props.children.push(s)}else e.props.children.push(c);n(r.DataChild?r.DataChild:[],r)}else{var m,b={Name:"",props:{},propsChild:[],style:""},g={Name:"",props:{},propsChild:[]};b.Name=r.Name,g.props.id=null!==a&&void 0!==a&&a.Cap?null===a||void 0===a?void 0:a.Cap:0,b.props.id=r.ID,r.DataChild||(b.props.rowSpan=0),g.id=null!==a&&void 0!==a&&a.Cap?null===a||void 0===a?void 0:a.Cap:0;!function e(n,t){n.forEach((function(n){n.props.propsChild&&n.props.propsChild.length>0?String(n.props.id)===String(t)?m=n:e(n.props.propsChild,null===t||void 0===t?void 0:t.toString()):String(n.props.id)===String(t)&&(m=n)}))}(e.props.children,null===a||void 0===a?void 0:a.Cap);var D=i.createElement("th",(0,o.Z)({},b.props),[b.Name]),C=i.createElement("tr",(0,o.Z)({},g.props),[D]);if(m){var x=!1,y=m.props.children;if(y)for(var E=0;E<y.length;E++){var I;Number(null===(I=y[E].props)||void 0===I?void 0:I.id)===Number(r.ID)&&(x=!0)}x||m.props.children.push(D)}else e.props.children.push(C)}}))}(n),i.createElement("thead",null,(0,l.Z)(e.props.children))},N=function(){var e={Name:"",props:{className:"",children:[],id:"rootTbody"}};return k(e,t,t),i.createElement("tbody",(0,o.Z)({},e.props),(0,l.Z)(e.props.children))},Z=function(e,n,t){var a=document.querySelectorAll('[data-id__parent="'.concat(e.ParentID,'"]')),o=(0,l.Z)(n.children);Array.isArray(o);for(var r=[],i=function e(n){n.forEach((function(n){n.DataChild?(r.includes(n.ID)||r.push(n.ID),e(n.DataChild)):r.includes(n.ID)||r.push(n.ID)}))},d=[],p=function(e){!function e(n,t){n.forEach((function(n){n.DataChild?Number(n.ID)===Number(t)?d.includes(Number(n))||d.push(n):e(n.DataChild,t):Number(n.ID)===Number(t)&&(d.includes(Number(n))||d.push(n))}))}(t,a[e].getAttribute("id-child")),i(d);var n=[];r.forEach((function(e){var t=document.querySelectorAll('[id-child="'.concat(e,'"]'));t&&n.push.apply(n,(0,l.Z)(t))})),n.forEach((function(e){var n=e.getAttribute("id-child");e.classList.remove("active".concat(n)),e.setAttribute("data-id__parent",null),e.classList.add("disabled-rowItem")}))},s=0;s<a.length;s++)p(s)},T=function(e,n,t,a){var o,r=document.getElementsByClassName("active".concat(e.ParentID));(0,l.Z)(t.children).filter((function(n){return Number(n.getAttribute("data-id"))===Number(e.ParentID)}))[0];w(a,e.ParentID,o);var i=NaN;if(r.length){var d=document.querySelectorAll('[id-child="'.concat(e.ID,'"]'));if(d.length){var p=(0,l.Z)(d);Array.isArray(p),p.forEach((function(n){n.setAttribute("data-id__parent",e.ParentID),n.classList.remove("disabled-rowItem")}))}else{var s=document.createElement("tr");e.DataArr.forEach((function(n,o){var r,i=document.createElement("td");i.id=n.ID,i.classList.add("item-rows"),null!==n&&void 0!==n&&n.isEdit?((r=document.createElement("input")).defaultValue="0"!==n.Content?n.Content:"",r.disabled=!(null!==e&&void 0!==e&&e.isEdit),r.value="0"!==n.Content?n.Content:""):(r=document.createElement("p")).textContent="0"!==e.Content?e.Content:"",r.style.cssText=null===n||void 0===n?void 0:n.Style,i.appendChild(r),s.appendChild(i),0===o&&(i.onclick=function(){console.log("clicked first item"),e.DataChild&&(s.classList.toggle("active".concat(e.ID)),A(e.DataChild,e,t,a))})})),s.setAttribute("id-child",e.ID),s.setAttribute("data-id",e.ID),s.setAttribute("data-id__parent",e.ParentID);var c=(0,l.Z)(t.children);Array.isArray(c),t.insertBefore(s,t.children[i])}}},w=function e(n,t,a){n.forEach((function(n){n.DataChild?n.ID===t?n:e(n.DataChild,t):n.ID===t&&n}))},S=function(e,n,t,a,o){var r,i=document.querySelectorAll('[data-id="'.concat(e.ID,'"]'));w(a,e.ParentID,r);var d=NaN;if(o.length)if(i.length){var p=(0,l.Z)(i);Array.isArray(p),p.forEach((function(n){n.setAttribute("data-id__parent",e.ParentID),n.classList.remove("disabled-rowItem")}))}else{var s=document.createElement("tr");e.DataArr.forEach((function(n){var t,a=document.createElement("td");console.log(n,"itemTD"),null!==n&&void 0!==n&&n.isEdit?((t=document.createElement("input")).defaultValue=n.Content?n.Content:"",t.disabled=!n.isEdit):(t=document.createElement("p")).textContent="0"!==e.Content?e.Content:"",t.style.cssText=null===n||void 0===n?void 0:n.Style,a.appendChild(t),s.appendChild(a)})),s.setAttribute("id-child",e.ID),s.setAttribute("data-id",e.ID),s.setAttribute("data-id__parent",e.ParentID);var c=(0,l.Z)(t.children);Array.isArray(c),t.insertBefore(s,t.children[d])}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>2?arguments[2]:void 0,t=arguments.length>3?arguments[3]:void 0;e.forEach((function(a){var o,r=document.getElementsByClassName("active".concat(a.ParentID));r.length?(null===a||void 0===a||null===(o=a.DataChild)||void 0===o?void 0:o.length)>0&&r.length?T(a,0,n,t):null!==a&&void 0!==a&&a.DataChild||!r.length||S(a,0,n,t,r):Z(a,n,e)}))},k=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2?arguments[2]:void 0;n.forEach((function(r){var p={Name:"",props:{className:"",children:[]}};r.DataArr&&r.DataArr.forEach((function(e,c){if(0===c){var u,f,m={Name:"",props:{className:"",children:[]}},b={Name:"",props:{className:""}};null!==e&&void 0!==e&&e.isEdit?(b.props.defaultValue="0"!==e.Content?e.Content:"",b.props.disabled=!(null!==e&&void 0!==e&&e.isEdit)):b.props.textContent="0"!==e.Content?e.Content:"";var g=null!==e&&void 0!==e&&e.isEdit?i.createElement("input",(0,o.Z)({},b.props)):i.createElement("p",(0,o.Z)({},b.props),null===(u=b.props)||void 0===u?void 0:u.textContent);m.props.children.push(g),m.props.id=e.ID,m.props.className+="item-row",m.props["data-id"]=r.ID;var D=n.filter((function(e){return e.ID===r.ID})),C=null===(f=D[0])||void 0===f?void 0:f.DataChild;m.props.onClick=function(){return function(){var a;console.log("clicked th");var o=document.getElementById("rootTbody"),r=n.filter((function(n){return n.DataArr.includes(e)}));document.querySelectorAll('[data-id="'.concat(r[0].ID,'"]'))[0].classList.toggle("active".concat(null===(a=r[0])||void 0===a?void 0:a.ID)),C?A(C,s,o,t):(d.ZP.destroy(),d.ZP.warning("Kh\xf4ng c\xf3 d\u1eef li\u1ec7u"))}()};var x=i.createElement("td",(0,o.Z)({},m.props),(0,l.Z)(m.props.children));p.props.children.push(x)}else{var y,E={Name:"",props:{className:"",children:[]}},I={Name:"",props:{className:""}};null!==e&&void 0!==e&&e.isEdit?I.props.disabled=!e.isEdit:I.props.textContent="0"!==e.Content?e.Content:"",E.props.id=e.ID;var N=null!==e&&void 0!==e&&e.isEdit?i.createElement("input",(0,o.Z)({},I.props)):i.createElement("p",(0,o.Z)({},I.props),(0,h.jsx)("p",{dangerouslySetInnerHTML:{__html:null===(y=I.props)||void 0===y?void 0:y.textContent}}));E.props.children.push(N),E.props.className="item-rows",E.props.onClick=function(){v(e.CapID,c,e.CoQuanID,"set"),a(2)};var Z=i.createElement("td",(0,o.Z)({},E.props),(0,l.Z)(E.props.children));p.props.children.push(Z)}})),p.props.className+="trHover";var s=i.createElement("tr",(0,o.Z)({},p.props),(0,l.Z)(p.props.children));e.props.children.push(s)}))};return console.log(1===c&&f),(0,h.jsx)(u,{children:(0,h.jsxs)("div",{className:"wrapper__table",id:"wrapper__table",children:[1===c?m?(0,h.jsx)("div",{className:"wrapperLoading",children:(0,h.jsx)(p.Z,{size:"large"})}):(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("table",{id:"table",children:[I(),N()]})}):null,2===c?m?(0,h.jsx)("div",{className:"wrapperLoading",children:(0,h.jsx)(p.Z,{size:"large"})}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("table",{id:"table",children:[I(),N()]}),(0,h.jsx)("button",{onClick:function(){return b()},children:(0,h.jsx)(s.Z,{})})]}):null]})})},f=(t(55454),t(53771),t(41145),function(e){e.title,e.data,e.danhSachDonVi,e.location,e.tableHeader;var n,t,a,l,d=e.tableLoading,p=e.setThongTinBaoCaoChiTiet,s=e.ThongTinBaoCao,c=e.ChiTietDonThu,u=e.ThongTinBaoCaoChiTiet,f=e.GetChiTietDonThu,m=e.loadingDetailsReport,b=e.Step,g=e.setStep,D=e.onRollBack,C=e.DetailsReportPayload,x=(0,i.useState)({}),y=(0,r.Z)(x,2),E=(y[0],y[1],(0,i.useState)([])),I=(0,r.Z)(E,2);I[0],I[1];(0,i.useEffect)((function(){}),[u]);var N={tableHeader:1===b?null===s||void 0===s||null===(n=s.DataTable)||void 0===n?void 0:n.TableHeader:2===b?null===u||void 0===u||null===(t=u.DataTable)||void 0===t?void 0:t.TableHeader:{},tableData:1===b?null===s||void 0===s||null===(a=s.DataTable)||void 0===a?void 0:a.TableData:2===b?null===u||void 0===u||null===(l=u.DataTable)||void 0===l?void 0:l.TableData:[],setThongTinBaoCaoChiTiet:p,loadingDetailsReport:m,DetailsReportPayload:C,GetChiTietDonThu:f,tableLoading:d,ChiTietDonThu:c,setStep:g,Step:b,onRollBack:D};return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(v,(0,o.Z)({},N))})})},53834:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(88428),o=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M793 242H366v-74c0-6.7-7.7-10.4-12.9-6.3l-142 112a8 8 0 000 12.6l142 112c5.2 4.1 12.9.4 12.9-6.3v-74h415v470H175c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h618c35.3 0 64-28.7 64-64V306c0-35.3-28.7-64-64-64z"}}]},name:"rollback",theme:"outlined"},i=t(54963),l=function(e,n){return o.createElement(i.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:r}))};l.displayName="RollbackOutlined";var d=o.forwardRef(l)}}]);
//# sourceMappingURL=865.4e5396f9.chunk.js.map