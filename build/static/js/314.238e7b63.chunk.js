"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[314],{44858:function(n,e,a){a.d(e,{c:function(){return d},Z:function(){return s}});var t,l=a(32014),i=a(17186),r=a(63463),o=a(15550),c=function(n){return(0,r.ZP)(n)(t||(t=(0,i.Z)(["\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ",";\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ",";\n      border-color: ",";\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ",";\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ",";\n      }\n    }\n  }\n"])),(0,o.palette)("text",1),(0,o.palette)("primary",0),(0,o.palette)("primary",0),(0,o.palette)("primary",0),(0,o.palette)("primary",0))}(l.Z),d=l.Z.Group,s=c},71285:function(n,e,a){a.d(e,{Z:function(){return s}});a(72791);var t,l=a(17186),i=a(63463),r=a(17192),o=i.ZP.div(t||(t=(0,l.Z)(["\n    text-align: right;\n    display: inline-block;\n    flex: 1;\n    padding: 0 3px 0 0;\n    @media only screen and (max-width: 1336px) {\n        text-align: left;\n        display: block;\n        flex: none;\n        width: 100%;\n        padding: 0 0 10px 0;\n    }\n    button {\n        margin-right: 0px;\n        margin-left: 10px;\n        @media only screen and (max-width: 1336px) {\n            margin-left: 0px;\n            margin-right: 10px;\n        }\n    }\n"]))),c=(0,r.Z)(o),d=a(80184),s=function(n){return(0,d.jsx)(c,{children:n.children})}},41643:function(n,e,a){a.r(e),a.d(e,{default:function(){return dn}});var t,l,i,r=a(36222),o=a(31303),c=a(18489),d=a(33032),s=a(27853),h=a(84531),u=a(78932),x=a(66621),m=a(84322),p=a.n(m),Z=a(72791),f=a(47375),C=(a(4245),a(13936)),D=a(54137),j=a(65331),v=a.n(j),g=a(35057),T=a(52591),y=a(35667),I=a(71285),Q=a(7111),b=a(66914),S=a(36043),k=a(50678),E=(a(58017),a(10916)),M=a(66106),w=a(30914),P=a(70297),N=a(44858),A=(a(59717),a(55454)),R=a(98793),L=a(17186),H=a(63463),K=H.ZP.div(t||(t=(0,L.Z)(["\n  .ant-tree\n    .ant-tree-treenode:not(.ant-tree .ant-tree-treenode-disabled).filter-node\n    .ant-tree-title {\n    color: red;\n  }\n  span.ant-tree-iconEle.ant-tree-icon__customize {\n    display: none !important;\n  }\n"]))),q=H.ZP.div(l||(l=(0,L.Z)(["\n  @media (min-width: 1024px) {\n    .checkbox-coquan {\n      width: 88%;\n      float: right;\n    }\n  }\n"]))),V=H.ZP.div(i||(i=(0,L.Z)(["\n  width: 100%;\n  .mg-top {\n    margin-top: 20px;\n    height: calc(100vh - 265px);\n    overflow: scroll;\n  }\n"]))),F={colFull:{xs:24,sm:24,md:24,lg:24,xl:24},colHaft:{xs:24,sm:24,md:24,lg:12,xl:12},colThirt:{xs:24,sm:24,md:12,lg:8,xl:8},colCustom1:{xs:24,sm:24,md:12,lg:9,xl:9},colCustom2:{xs:24,sm:24,md:12,lg:7,xl:7},colCustom3:{xs:24,sm:24,md:12,lg:8,xl:8},formItem1:{labelCol:{xs:3,sm:3,md:3,lg:3,xl:3},wrapperCol:{xs:21,sm:21,md:21,lg:21,xl:21},labelAlign:"left"},formItem2:{labelCol:{xs:6,sm:6,md:6,lg:6,xl:6},wrapperCol:{xs:18,sm:18,md:18,lg:18,xl:18},labelAlign:"left"},formItem3:{labelCol:{xs:9,sm:9,md:9,lg:9,xl:9},wrapperCol:{xs:16,sm:16,md:16,lg:16,xl:16}},formItem2_1:{labelCol:{xs:6,sm:6,md:6,lg:6,xl:6},wrapperCol:{xs:18,sm:18,md:18,lg:18,xl:18}},formItem3_1:{labelCol:{xs:8,sm:8,md:8,lg:8,xl:8},wrapperCol:{xs:15,sm:15,md:15,lg:15,xl:15}},formItem3_3:{labelCol:{xs:5,sm:5,md:5,lg:5,xl:5},wrapperCol:{xs:18,sm:18,md:18,lg:18,xl:18}}},U=a(80184),W=E.Z.Item,_=E.Z.useForm,G=function(n){var e,a=n.visible,t=n.onCancel,l=n.dataModalAdd,i=n.onCreate,r=n.DanhSachCoQuan,o=_(),s=(0,k.Z)(o,1)[0],h=(0,Z.useState)([]),u=(0,k.Z)(h,2),x=u[0],m=u[1],f=(0,Z.useState)([]),C=(0,k.Z)(f,2),v=C[0],T=C[1],y=(0,Z.useState)(),I=(0,k.Z)(y,2),Q=(I[0],I[1],(0,Z.useState)({tinh:[],huyen:[],xa:[]})),b=(0,k.Z)(Q,2),S=b[0],A=b[1];(0,Z.useEffect)((function(){var n,e;if(l){var a,t=l.CoQuanChaID;!function n(e,t){e.forEach((function(e){e.Children?e.ID===t?a=e.Ten:n(e.Children,t):e.ID===t&&(a=e.Ten)}))}(r,t),console.log(a,".......parent")}s.setFieldsValue((0,c.Z)((0,c.Z)({},l),{},{TenCoQuanCha:null!==l&&void 0!==l&&l.CoQuanChaID?l.TenCoQuanCha:null===(n=r[0])||void 0===n?void 0:n.Ten,TinhID:null!==l&&void 0!==l&&null!==(e=l.Data)&&void 0!==e&&e.TinhID?l.Data.TinhID:null})),D.Z.danhSachCacCapDonVi().then((function(n){return m(n.data.Data)})),D.Z.danhSachThamQuyen().then((function(n){return T(n.data.Data)})),R.Z.danhSachDiaGioi().then((function(n){return A((0,c.Z)((0,c.Z)({},S),{},{tinh:n.data.Data}))}))}),[]);var L=function(){var n=(0,d.Z)(p().mark((function n(e){var a,t;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,s.validateFields();case 3:t=n.sent,i((0,c.Z)((0,c.Z)({},t),{},{CoQuanChaID:null!==l&&void 0!==l&&l.CoQuanChaID?l.CoQuanChaID:null===(a=r[0])||void 0===a?void 0:a.ID}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(P.u_,{open:a,title:"Th\xeam c\u01a1 quan \u0111\u01a1n v\u1ecb",onCancel:t,width:"900px",footer:[(0,U.jsx)(P.zx,{onClick:t,children:"H\u1ee7y"},"back"),(0,U.jsx)(P.zx,{type:"primary",htmlType:"submit",onClick:L,form:"myForm",children:"L\u01b0u"},"submit")],children:(0,U.jsxs)(E.Z,{form:s,id:"myForm",initialValues:{TenCoQuanCha:(null===(e=r[0])||void 0===e?void 0:e.Ten)||"",CQCoHieuLuc:!1,QTVanThuTiepDan:!1,CapUBND:!1,QTVanThuTiepNhanDon:!1,CapThanhTra:!1,SuDungQuyTrinh:!1,SuDungPM:!1,SuDungQuyTrinhGQ:!1,TinhID:null,HuyenID:null,XaID:null},children:[(0,U.jsxs)(M.Z,{justify:"space-between",gutter:[32,8],children:[(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colFull),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"C\u01a1 quan cha",name:"TenCoQuanCha",rules:[j.REQUIRED]},F.formItem1),{},{children:(0,U.jsx)(g.ZP,{disabled:!0,children:(0,U.jsx)(g.Wx,{children:null===l||void 0===l?void 0:l.TenCoQuanCha})})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"M\xe3 c\u01a1 quan",name:"MaCQ",rules:[j.REQUIRED]},F.formItem2),{},{children:(0,U.jsx)(P.PQ,{})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"T\xean c\u01a1 quan",name:"TenCoQuan",rules:[j.REQUIRED],labelAlign:"left"},F.formItem2),{},{children:(0,U.jsx)(P.II,{})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"C\u1ea5p",name:"CapID",rules:[j.REQUIRED]},F.formItem2),{},{children:(0,U.jsx)(g.ZP,{children:x.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.Cap,children:n.TenCap},e)}))})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"Th\u1ea9m quy\u1ec1n",name:"ThamQuyenID",rules:[j.REQUIRED]},F.formItem2),{},{children:(0,U.jsx)(g.ZP,{children:v.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ThamQuyenID,children:n.TenThamQuyen},e)}))})}))}))]}),(0,U.jsxs)(M.Z,{justify:"space-between",gutter:[10,8],children:[(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colThirt),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"T\u1ec9nh",name:"TinhID",labelAlign:"left"},F.formItem3),{},{children:(0,U.jsx)(g.ZP,{onChange:function(n){R.Z.danhSachDiaGioi({ID:n,Cap:2}).then((function(n){return A((0,c.Z)((0,c.Z)({},S),{},{huyen:n.data.Data}))}))},listHeight:100,allowClear:!0,children:S.tinh.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ID,children:n.Ten},e)}))})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colThirt),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"Huy\u1ec7n",name:"HuyenID",labelAlign:"right"},F.formItem3),{},{children:(0,U.jsx)(g.ZP,{allowClear:!0,name:"HuyenID",listHeight:100,onChange:function(n){R.Z.danhSachDiaGioi({ID:n,Cap:3}).then((function(n){return A((0,c.Z)((0,c.Z)({},S),{},{xa:n.data.Data}))}))},children:S.huyen.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ID,children:n.Ten},e)}))})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colThirt),{},{children:(0,U.jsx)(W,(0,c.Z)((0,c.Z)({label:"X\xe3",name:"XaID",labelAlign:"right"},F.formItem3),{},{children:(0,U.jsx)(g.ZP,{listHeight:100,allowClear:!0,children:S.xa.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ID,children:n.Ten},e)}))})}))}))]}),(0,U.jsx)(q,{children:(0,U.jsxs)(M.Z,{className:"checkbox-coquan",children:[(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"CQCoHieuLuc",valuePropName:"checked",label:"",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan c\xf3 hi\u1ec7u l\u1ef1c"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"QTVanThuTiepDan",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"Quy tr\xecnh c\xe1n b\u1ed9 ti\u1ebfp d\xe2n"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"CapUBND",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan c\u1ea5p UBND"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"QTVanThuTiepNhanDon",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"Quy tr\xecnh v\u0103n th\u01b0 ti\u1ebfp nh\u1eadn \u0111\u01a1n"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"CapThanhTra",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan c\u1ea5p thanh tra"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"SuDungQuyTrinh",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"S\u1eed d\u1ee5ng quy tr\xecnh ti\u1ebfp c\xf4ng d\xe2n, x\u1eed l\xed \u0111\u01a1n ph\u1ee9c t\u1ea1p"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"SuDungPM",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan thu\u1ed9c h\u1ec7 th\u1ed1ng ph\u1ea7n m\u1ec1m"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(W,{name:"SuDungQuyTrinhGQ",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"S\u1eed d\u1ee5ng quy tr\xecnh gi\u1ea3i quy\u1ebft ph\u1ee9c t\u1ea1p"})})})]})})]})})})},X=Z.memo(G),B=E.Z.Item,O=E.Z.useForm,z=function(n){var e=n.visible,a=n.onCancel,t=n.dataModalEdit,l=n.onCreate,i=O(),r=(0,k.Z)(i,1)[0],o=(0,Z.useState)([]),s=(0,k.Z)(o,2),h=s[0],u=s[1],x=(0,Z.useState)([]),m=(0,k.Z)(x,2),f=m[0],C=m[1],v=(0,Z.useState)({tinh:[],huyen:[],xa:[]}),T=(0,k.Z)(v,2),y=T[0],I=T[1],Q=(0,Z.useState)(),b=(0,k.Z)(Q,2),S=b[0],A=b[1];(0,Z.useEffect)((function(){var n,e,a;D.Z.chiTietCoQuan({ID:null===t||void 0===t||null===(n=t.Data)||void 0===n?void 0:n.CoQuanChaID}).then((function(n){var e,a;A(n.data.Data.TenCoQuan),r.setFieldsValue((0,c.Z)((0,c.Z)({},t.Data),{},{TenCoQuanCha:null===n||void 0===n?void 0:n.data.Data.TenCoQuan,HuyenID:null!==(e=t.Data)&&void 0!==e&&e.HuyenID?t.Data.HuyenID:null,XaID:null!==(a=t.Data)&&void 0!==a&&a.XaID?t.Data.XaID:null}))})),D.Z.danhSachCacCapDonVi().then((function(n){return u(n.data.Data)})),D.Z.danhSachThamQuyen().then((function(n){return C(n.data.Data)})),R.Z.danhSachDiaGioi().then((function(n){I((0,c.Z)((0,c.Z)({},y),{},{tinh:n.data.Data}))})),H(null===t||void 0===t||null===(e=t.Data)||void 0===e?void 0:e.TinhID),K(null===t||void 0===t||null===(a=t.Data)||void 0===a?void 0:a.HuyenID)}),[]);var L=function(){var n=(0,d.Z)(p().mark((function n(e){var a;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.preventDefault(),n.next=3,r.validateFields();case 3:a=n.sent,l((0,c.Z)((0,c.Z)({},a),{},{CoQuanChaID:t.Data.CoQuanChaID,CoQuanID:t.CoQuanID}));case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),H=function(n){R.Z.danhSachDiaGioi({ID:n,Cap:2}).then((function(n){return I((0,c.Z)((0,c.Z)({},y),{},{huyen:n.data.Data}))}))},K=function(n){R.Z.danhSachDiaGioi({ID:n,Cap:3}).then((function(n){return I((0,c.Z)((0,c.Z)({},y),{},{xa:n.data.Data}))}))};return(0,U.jsx)(U.Fragment,{children:(0,U.jsx)(P.u_,{open:e,title:"S\u1eeda c\u01a1 quan \u0111\u01a1n v\u1ecb",onCancel:a,width:"900px",footer:[(0,U.jsx)(P.zx,{onClick:a,children:"H\u1ee7y"},"back"),(0,U.jsx)(P.zx,{type:"primary",htmlType:"submit",onClick:L,form:"myForm",children:"L\u01b0u"},"submit")],children:(0,U.jsxs)(E.Z,{form:r,id:"myForm",initialValues:{CQCoHieuLuc:!1,QTVanThuTiepDan:!1,CapUBND:!1,QTVanThuTiepNhanDon:!1,CapThanhTra:!1,SuDungQuyTrinh:!1,SuDungPM:!1,SuDungQuyTrinhGQ:!1,TinhID:null,HuyenID:null,XaID:null},children:[(0,U.jsxs)(M.Z,{justify:"space-between",gutter:[32,8],children:[(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colFull),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"C\u01a1 quan cha",name:"TenCoQuanCha",rules:[j.REQUIRED]},F.formItem1),{},{children:(0,U.jsx)(g.ZP,{disabled:!0,children:(0,U.jsx)(g.Wx,{children:S})})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"M\xe3 c\u01a1 quan",name:"MaCQ",rules:[j.REQUIRED]},F.formItem2),{},{children:(0,U.jsx)(P.PQ,{})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"T\xean c\u01a1 quan",name:"TenCoQuan",rules:[j.REQUIRED],labelAlign:"left"},F.formItem2),{},{children:(0,U.jsx)(P.II,{})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"C\u1ea5p",name:"CapID",rules:[j.REQUIRED]},F.formItem2),{},{children:(0,U.jsx)(g.ZP,{children:h.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.Cap,children:n.TenCap},e)}))})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colHaft),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"Th\u1ea9m quy\u1ec1n",name:"ThamQuyenID",rules:[j.REQUIRED]},F.formItem2),{},{children:(0,U.jsx)(g.ZP,{children:f.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ThamQuyenID,children:n.TenThamQuyen},e)}))})}))}))]}),(0,U.jsxs)(M.Z,{justify:"space-between",gutter:[10,8],children:[(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colThirt),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"T\u1ec9nh",name:"TinhID",labelAlign:"left"},F.formItem3),{},{children:(0,U.jsx)(g.ZP,{onChange:H,listHeight:100,allowClear:!0,children:y.tinh.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ID,children:n.Ten},e)}))})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colThirt),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"Huy\u1ec7n",name:"HuyenID",labelAlign:"right"},F.formItem3),{},{children:(0,U.jsx)(g.ZP,{allowClear:!0,name:"HuyenID",listHeight:100,onChange:K,children:y.huyen.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ID,children:n.Ten},e)}))})}))})),(0,U.jsx)(w.Z,(0,c.Z)((0,c.Z)({},F.colThirt),{},{children:(0,U.jsx)(B,(0,c.Z)((0,c.Z)({label:"X\xe3",name:"XaID",labelAlign:"right"},F.formItem3),{},{children:(0,U.jsx)(g.ZP,{listHeight:100,allowClear:!0,children:y.xa.map((function(n,e){return(0,U.jsx)(g.Wx,{value:n.ID,children:n.Ten},e)}))})}))}))]}),(0,U.jsx)(q,{children:(0,U.jsxs)(M.Z,{className:"checkbox-coquan",children:[(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"CQCoHieuLuc",valuePropName:"checked",label:"",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan c\xf3 hi\u1ec7u l\u1ef1c"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"QTVanThuTiepDan",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"Quy tr\xecnh c\xe1n b\u1ed9 ti\u1ebfp d\xe2n"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"CapUBND",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan c\u1ea5p UBND"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"QTVanThuTiepNhanDon",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"Quy tr\xecnh v\u0103n th\u01b0 ti\u1ebfp nh\u1eadn \u0111\u01a1n"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"CapThanhTra",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan c\u1ea5p thanh tra"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"SuDungQuyTrinh",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"S\u1eed d\u1ee5ng quy tr\xecnh ti\u1ebfp c\xf4ng d\xe2n, x\u1eed l\xed \u0111\u01a1n ph\u1ee9c t\u1ea1p"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"SuDungPM",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"C\u01a1 quan thu\u1ed9c h\u1ec7 th\u1ed1ng ph\u1ea7n m\u1ec1m"})})}),(0,U.jsx)(w.Z,{span:12,children:(0,U.jsx)(B,{name:"SuDungQuyTrinhGQ",valuePropName:"checked",children:(0,U.jsx)(N.Z,{children:"S\u1eed d\u1ee5ng quy tr\xecnh gi\u1ea3i quy\u1ebft ph\u1ee9c t\u1ea1p"})})})]})})]})})})},J=Z.memo(z),$=a(66883),Y=a(57652),nn=a(77027),en=a(83388),an=a(10294),tn=a(49389),ln=a(28532),rn=a(79286),on=$.Z.TreeNode,cn=function(n){(0,u.Z)(a,n);var e=(0,x.Z)(a);function a(n){var t;(0,s.Z)(this,a),(t=e.call(this,n)).danhSachCacCap=(0,d.Z)(p().mark((function n(){var e;return p().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,D.Z.danhSachCacCapDonVi();case 3:e=n.sent,t.setState((0,c.Z)((0,c.Z)({},t.state),{},{danhSachCacCap:e.data.Data})),n.next=9;break;case 7:n.prev=7,n.t0=n.catch(0);case 9:case"end":return n.stop()}}),n,null,[[0,7]])}))),t.componentDidMount=function(){t.props.getInitData(t.state.filterData),t.danhSachCacCap()},t.onFilter=function(n,e){var a=(0,c.Z)({},t.state.filterData),l={value:n,property:e},i=(0,A.mB)(a,l,null);t.setState({filterData:i},(function(){var n=t.state.filterData.Keyword?t.state.filterData.Keyword:"";(0,A.ZZ)({Keyword:n}),t.props.getList(t.state.filterData)})),t.setState({filterData:i},(function(){var n=t.state.filterData.Cap?t.state.filterData.Cap:"";(0,A.ZZ)({Cap:n}),t.props.getList(t.state.filterData)}))},t.deleteData=function(n){Y.Z.confirm({title:"X\xf3a d\u1eef li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a c\u01a1 quan \u0111\u01a1n v\u1ecb n\xe0y kh\xf4ng?",cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){D.Z.xoaCoQuan(n).then((function(n){n.data.Result.Status>0?(t.props.getList(t.state.filterData),nn.ZP.destroy(),nn.ZP.success(n.data.Result.Message)):Y.Z.error({title:"L\u1ed7i",content:n.data.Result.Message})})).catch((function(n){Y.Z.error(v().API_ERROR)}))}})},t.showModalAdd=function(n,e){if(n)D.Z.chiTietCoQuan({ID:n}).then((function(a){if(a.data.Status>0){var l=t.state.modalKey+1,i=a.data.Data;t.setState({visibleModalAdd:!0,dataModalAdd:{Data:i,CoQuanChaID:n,TenCoQuanCha:e},confirmLoading:!1,modalKey:l})}else Y.Z.error({title:"L\u1ed7i",content:a.data.Message})})).catch((function(n){Y.Z.error(v().API_ERROR)}));else{var a=t.state.modalKey+1;t.setState({visibleModalAdd:!0,dataModalAdd:{CoQuanChaID:n,TenCoQuanCha:e},confirmLoading:!1,modalKey:a})}},t.hideModalAdd=function(){t.setState({visibleModalAdd:!1,dataModalAdd:null})},t.submitModalAdd=function(n){t.setState({confirmLoading:!0},(function(){D.Z.themCoQuan(n).then((function(n){n.data.Status>0?(nn.ZP.destroy(),nn.ZP.success("Th\xeam th\xe0nh c\xf4ng"),t.hideModalAdd(),t.props.getList(t.state.filterData)):(t.setState({confirmLoading:!1}),Y.Z.error({title:"L\u1ed7i",content:n.data.Message}))})).catch((function(n){Y.Z.error(v().API_ERROR)}))}))},t.showModalEdit=function(n,e){D.Z.chiTietCoQuan({ID:n}).then((function(a){if(a.data.Status>0){var l=t.state.modalKey+1,i=a.data.Data;t.setState({visibleModalEdit:!0,dataModalEdit:{Data:i,CoQuanID:n,TenCoQuanCha:e},confirmLoading:!1,modalKey:l})}else Y.Z.error({title:"L\u1ed7i",content:a.data.Message})})).catch((function(n){Y.Z.error(v().API_ERROR)}))},t.hideModalEdit=function(){t.setState({visibleModalEdit:!1})},t.submitModalEdit=function(n){t.setState({confirmLoading:!0},(function(){D.Z.suaCoQuan(n).then((function(n){n.data.Status>0?(nn.ZP.destroy(),nn.ZP.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),t.hideModalEdit(),t.props.getList(t.state.filterData)):(t.setState({confirmLoading:!1}),Y.Z.error({title:"L\u1ed7i",content:n.data.Message}))})).catch((function(n){Y.Z.error(v().API_ERROR)}))}))},t.onExpandNode=function(n,e){var a=e.nativeEvent.target.outerHTML.toString(),l=e.nativeEvent.target.parentElement.className.toString(),i=a.includes("ant-dropdown-menu"),r=l.includes("ant-dropdown-menu");if(!i&&!r){var c=e.node.props.eventKey.toString();if(c&&!e.node.props.isLeaf){var d=(0,o.Z)(t.state.expandedKeys),s=d.indexOf(c);s>-1?d.splice(s,1):d=t.state.expandedKeys.concat([c]),t.setState({expandedKeys:d}),t.setState({setKey:n})}}},t.renderTreeNodes=function(n){return n.map((function(n){var e=(0,U.jsxs)(en.Z,{children:[n.Cap<=4||6===n.Cap||7===n.Cap?(0,U.jsx)(en.Z.Item,{onClick:function(){return t.showModalAdd(n.ID,n.Ten,n.Cap)},children:(0,U.jsx)("span",{children:"Th\xeam \u0111\u01a1n v\u1ecb"})}):null,(0,U.jsx)(en.Z.Item,{onClick:function(){return t.showModalEdit(n.ID,n.Ten,n.Cap)},children:(0,U.jsx)("span",{children:"S\u1eeda"})}),(0,U.jsx)(en.Z.Item,{onClick:function(){return t.deleteData(n.ID)},disabled:!!n.children,children:(0,U.jsx)("span",{children:"X\xf3a"})})]}),a=(0,U.jsx)("div",{onClick:function(){return t.props.dispatch(n.ID)},children:(0,U.jsx)(an.Z,{overlay:e,placement:"bottomLeft",trigger:["contextMenu"],children:(0,U.jsx)("span",{className:"title-tree",style:n.ID===t.props.styled?{color:"red"}:{},children:n.title})})});return n.children?(0,U.jsx)(on,(0,r.Z)({title:a,isLeaf:n.isLeaf,children:n.children,dataRef:n},"children",t.renderTreeNodes(n.children)),n.key):(0,U.jsx)(on,{title:a,isLeaf:n.isLeaf,children:n.children,dataRef:n},n.key)}))},t.renderContent=function(){if(t.state.DanhSachCoQuan.length){var n=t.filterTreeNode(t.state.DanhSachCoQuan);return(0,U.jsx)(K,{children:(0,U.jsx)($.Z,{showLine:!0,filterTreeNode:function(n){return 1===n.props.dataRef.Highlight},onSelect:t.onExpandNode,onExpand:t.onExpandNode,defaultExpandedKeys:t.state.setKey,expandedKeys:t.state.filterData.Keyword?t.props.expandedKeys:t.state.expandedKeys,children:t.renderTreeNodes(n)})})}return(0,U.jsx)(S.o1,{loading:t.props.TableLoading})},t.filterTreeNode=function(n){return n},t.renderActionAdd=function(){return(0,U.jsxs)("span",{children:[(0,U.jsxs)(ln.Z,{type:"primary",onClick:function(){return t.showModalAdd("","","")},className:"d-none",children:[(0,U.jsx)(rn.Z,{}),"Th\xeam m\u1edbi"]}),(0,U.jsx)(X,{confirmLoading:t.state.confirmLoading,visible:t.state.visibleModalAdd,onCancel:t.hideModalAdd,onCreate:t.submitModalAdd,dataModalAdd:t.state.dataModalAdd,DanhSachCoQuan:t.state.DanhSachCoQuan},t.state.modalKey)]})},t.renderActionEdit=function(){return(0,U.jsx)("span",{children:(0,U.jsx)(J,{confirmLoading:t.state.confirmLoading,visible:t.state.visibleModalEdit,onCancel:t.hideModalEdit,onCreate:t.submitModalEdit,dataModalEdit:t.state.dataModalEdit},t.state.modalKey)})},document.title="Danh m\u1ee5c c\u01a1 quan \u0111\u01a1n v\u1ecb";return console.log(""),t.state={setKey:[],expandedKeys:[],filterData:(0,c.Z)({},""),treeKey:0,modalKey:0,DanhSachCoQuan:[],confirmLoading:!1,visibleModalAdd:!1,dataModalAdd:null,visibleModalEdit:!1,dataModalEdit:{DanhSachTinh:[],Data:null},danhSachCacCap:[]},t}return(0,h.Z)(a,[{key:"componentDidUpdate",value:function(n,e,a){if(n.DanhSachCoQuan!==this.props.DanhSachCoQuan){var t=this.state.treeKey+1;this.setState({DanhSachCoQuan:this.props.DanhSachCoQuan,treeKey:t})}}},{key:"render",value:function(){var n=this;JSON.parse(localStorage.getItem("user")).VaiTro;return(0,U.jsxs)(T.Z,{children:[(0,U.jsx)(y.Z,{children:"DANH M\u1ee4C C\u01a0 QUAN, \u0110\u01a0N V\u1eca"}),(0,U.jsxs)(I.Z,{children:[this.renderActionAdd(),this.renderActionEdit()]}),(0,U.jsx)(V,{children:(0,U.jsxs)(Q.Z,{className:"box",children:[(0,U.jsxs)(b.Z,{children:[(0,U.jsx)(g.ZP,{allowClear:!0,style:{width:"200px"},defaultValue:this.state.filterData.Cap,placeholder:"Ch\u1ecdn c\u1ea5p",onChange:function(e){return n.onFilter(e,"Cap")},children:this.state.danhSachCacCap.map((function(n){return(0,U.jsx)(g.Wx,{value:n.Cap,children:n.TenCap})}))}),(0,U.jsx)(tn.Z.Search,{allowClear:!0,defaultValue:this.state.filterData.Keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean c\u01a1 quan, \u0111\u01a1n v\u1ecb",onSearch:function(e){return n.onFilter(e,"Keyword")},style:{width:300}})]}),(0,U.jsx)("div",{style:{userSelect:"none"},className:"mg-top",children:this.renderContent()},this.state.treeKey)]})})]})}}]),a}(Z.Component);var dn=(0,f.$j)((function(n){return(0,c.Z)({},n.DMCoQuan)}),C.Z)(cn)},30914:function(n,e,a){var t=a(89752);e.Z=t.Z},66106:function(n,e,a){var t=a(37545);e.Z=t.Z}}]);
//# sourceMappingURL=314.238e7b63.chunk.js.map