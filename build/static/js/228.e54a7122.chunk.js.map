{"version":3,"file":"static/js/228.e54a7122.chunk.js","mappings":"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","sources":["components/uielements/checkbox.js","components/uielements/styles/checkbox.style.js","components/utility/pageAction.style.js","components/utility/pageAction.js","customApp/CustomHook/useKey.js","customApp/containers/DanhMuc/DMTrangThaiDon/modalAddEdit.js","customApp/containers/DanhMuc/DMTrangThaiDon/index.js"],"sourcesContent":["import { Checkbox } from 'antd';\nimport AntCheckbox from './styles/checkbox.style';\n\nconst checkbox = AntCheckbox(Checkbox);\nconst CheckboxGroup = Checkbox.Group;\n\nexport default checkbox;\nexport { CheckboxGroup };\n","import styled from \"styled-components\";\nimport { palette } from \"styled-theme\";\n\nconst AntCheckbox = ComponentName => styled(ComponentName)`\n  &.ant-checkbox-wrapper {\n    font-size: 13px;\n    color: ${palette(\"text\", 1)};\n\n    .ant-checkbox {\n      top: inherit;\n    }\n\n    .ant-checkbox-checked .ant-checkbox-inner,\n    .ant-checkbox-indeterminate .ant-checkbox-inner {\n      background-color: ${palette(\"primary\", 0)};\n      border-color: ${palette(\"primary\", 0)};\n    }\n\n    .ant-checkbox:hover .ant-checkbox-inner,\n    .ant-checkbox-input:focus + .ant-checkbox-inner {\n      border-color: ${palette(\"primary\", 0)};\n    }\n\n    &:hover {\n      .ant-checkbox-inner {\n        border-color: ${palette(\"primary\", 0)};\n      }\n    }\n  }\n`;\n\nexport default AntCheckbox;\n","import styled from 'styled-components';\r\nimport WithDirection from '../../settings/withDirection';\r\n\r\nconst WDComponentDivAction = styled.div`\r\n    text-align: right;\r\n    display: inline-block;\r\n    flex: 1;\r\n    padding: 0 3px 0 0;\r\n    @media only screen and (max-width: 1336px) {\r\n        text-align: left;\r\n        display: block;\r\n        flex: none;\r\n        width: 100%;\r\n        padding: 0 0 10px 0;\r\n    }\r\n    button {\r\n        margin-right: 0px;\r\n        margin-left: 10px;\r\n        @media only screen and (max-width: 1336px) {\r\n            margin-left: 0px;\r\n            margin-right: 10px;\r\n        }\r\n    }\r\n`;\r\n\r\nconst ComponentDivAction = WithDirection(WDComponentDivAction);\r\nexport { ComponentDivAction };\r\n","import React from 'react';\r\nimport { ComponentDivAction } from './pageAction.style';\r\n\r\nexport default props =>\r\n  <ComponentDivAction>\r\n      {props.children}\r\n  </ComponentDivAction>;\r\n","import {useEffect, useState} from \"react\";\r\n\r\nfunction useKey(props) {\r\n  const [modalKey, setModalKey] = useState(0);\r\n  const increaseKey = () => {\r\n    setModalKey(modalKey + 1);\r\n  };\r\n  return [modalKey, increaseKey];\r\n}\r\n\r\nexport {useKey};","import React, { useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  ITEM_LAYOUT2,\r\n  ITEM_LAYOUT_SMALL_2,\r\n  REQUIRED,\r\n  ITEM_LAYOUT,\r\n} from \"../../../../settings/constants\";\r\nimport { Form, Radio } from \"antd\";\r\nimport {\r\n  Button,\r\n  Modal,\r\n  InputFormatSpecific,\r\n  Input,\r\n} from \"../../../../components/uielements/exportComponent\";\r\nimport { checkInputNumber } from \"../../../../helpers/utility\";\r\nimport TextArea from \"antd/lib/input/TextArea\";\r\n\r\nconst { Item, useForm } = Form;\r\n\r\nexport default (props) => {\r\n  const [form] = useForm();\r\n  const [isFormSuccess, setIsFormSuccess] = useState(true);\r\n  const { dataEdit, loading, visible, action } = props;\r\n  const [value1, setValue1] = useState();\r\n\r\n  useEffect(() => {\r\n    if (dataEdit && dataEdit.TrangThaiDonID) {\r\n      form &&\r\n        form.setFieldsValue({\r\n          ...dataEdit,\r\n        });\r\n    }\r\n  }, []);\r\n  const onChange1 = (e) => {\r\n    setValue1(e.target.value);\r\n  };\r\n  const onOk = async (e) => {\r\n    e.preventDefault();\r\n    const value = await form.validateFields();\r\n    if (action === \"edit\") {\r\n      props.onCreate({\r\n        ...value,\r\n        TrangThai: value1 || value.TrangThai,\r\n      });\r\n    }\r\n    if (action === \"add\") {\r\n      props.onCreate({\r\n        ...value,\r\n        TrangThai: value1 === undefined ? true : value1,\r\n      });\r\n    }\r\n  };\r\n  const handleChangedFields = async (changedValues, allValues) => {\r\n    const value = await form.getFieldsValue();\r\n    const { MaTrangThaiDon, TenTrangThaiDon, TrangThai, GhiChu } = value;\r\n    if (\r\n      MaTrangThaiDon &&\r\n      TenTrangThaiDon &&\r\n        (MaTrangThaiDon !== dataEdit.MaTrangThaiDon ||\r\n          TenTrangThaiDon !== dataEdit.TenTrangThaiDon ||\r\n            TrangThai !== dataEdit.TrangThai ||\r\n            GhiChu !== dataEdit.GhiChu)\r\n    ) {\r\n        setIsFormSuccess(false);\r\n    } else {\r\n        setIsFormSuccess(true);\r\n    }\r\n};\r\n\r\n  const onChange = (e) => {\r\n    setValue1(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      title={`${action === \"edit\" ? \"Sửa\" : \"Thêm\"} thông tin trạng thái đơn`}\r\n      width={450}\r\n      visible={visible}\r\n      onCancel={props.onCancel}\r\n      footer={[\r\n        <Button key=\"back\" onClick={props.onCancel}>\r\n          Hủy\r\n        </Button>,\r\n        <Button\r\n          key=\"submit\"\r\n          htmlType=\"submit\"\r\n          type=\"primary\"\r\n          form=\"formtrangthaidon\"\r\n          loading={loading}\r\n          onClick={onOk}\r\n          disabled={isFormSuccess}\r\n        >\r\n          Lưu\r\n        </Button>,\r\n      ]}\r\n    >\r\n      <Form form={form} name={\"formtrangthaidon\"} onChange={handleChangedFields}>\r\n        {action === \"edit\" ? <Item name={\"TrangThaiDonID\"} hidden /> : \"\"}\r\n        <Item\r\n          label=\"Mã trạng thái đơn\"\r\n          name={\"MaTrangThaiDon\"}\r\n          {...ITEM_LAYOUT}\r\n          rules={[REQUIRED]}\r\n        >\r\n          <InputFormatSpecific />\r\n        </Item>\r\n        <Item\r\n          label=\"Tên trạng thái đơn\"\r\n          name={\"TenTrangThaiDon\"}\r\n          {...ITEM_LAYOUT}\r\n          rules={[REQUIRED]}\r\n        >\r\n          <Input />\r\n        </Item>\r\n        <Item label=\"Ghi chú\" name={\"GhiChu\"} {...ITEM_LAYOUT}>\r\n          <TextArea />\r\n        </Item>\r\n        <Item label=\"Đang sử dụng\" name={\"TrangThai\"} {...ITEM_LAYOUT}>\r\n          <Radio.Group onChange={onChange1} value={value1} defaultValue={true}>\r\n            <Radio value={true}>Có</Radio>\r\n            <Radio value={false}>Không</Radio>\r\n          </Radio.Group>\r\n        </Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n","import { Modal, Table, Tooltip, message } from 'antd';\r\nimport actions from '../../../redux/DanhMuc/DanhMucTrangThaiDon/actions';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport LayoutWrapper from '../../../../components/utility/layoutWrapper';\r\nimport PageHeader from '../../../../components/utility/pageHeader';\r\nimport PageAction from '../../../../components/utility/pageAction';\r\nimport Box from '../../../../components/utility/box';\r\nimport BoxFilter from '../../../../components/utility/boxFilter';\r\nimport BoxTable from '../../../../components/utility/boxTable';\r\nimport { Button, InputSearch, Select } from '../../../../components/uielements/exportComponent';\r\nimport Checkbox from '../../../../components/uielements/checkbox';\r\nimport { changeUrlFilter, exportExcel, getDefaultPageSize, getFilterData, getRoleByKey } from '../../../../helpers/utility';\r\nimport { useKey } from '../../../CustomHook/useKey';\r\nimport queryString from 'query-string';\r\nimport api from './config';\r\nimport moment from 'moment';\r\nimport ModalAddEdit from './modalAddEdit';\r\nimport { DeleteOutlined, EditOutlined, PlusOutlined } from '@ant-design/icons';\r\nimport { useSelector } from 'react-redux';\r\nconst DMTrangThaiDon = (props) => {\r\n    document.title = 'Danh Mục Trạng Thái Đơn';\r\n    const [filterData, setFilterData] = useState(queryString.parse(props.location.search));\r\n    const [dataModalAddEdit, setDataModalAddEdit] = useState({});\r\n    const [visibleModalAddEdit, setVisibleModalAddEdit] = useState(false);\r\n    const [action, setAction] = useState('');\r\n    const [modalKey, inceaseModalKey] = useKey();\r\n    const [selectedRowsKey, setSelectedRowsKey] = useState([]);\r\n    const [confirmLoading, setConfirmLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        changeUrlFilter(filterData);\r\n        props.getList(filterData);\r\n    }, [filterData]);\r\n\r\n    useEffect(() => {\r\n        props.getList(filterData);\r\n    }, []);\r\n\r\n    const onTableChange = (pagination, filters, sorter) => {\r\n        let oldFilterData = filterData;\r\n        let onOrder = { pagination, filters, sorter };\r\n        let newFilterData = getFilterData(oldFilterData, null, onOrder);\r\n\r\n        setFilterData(newFilterData);\r\n        setSelectedRowsKey([]);\r\n    };\r\n\r\n    const onFilter = (value, property) => {\r\n        let oldFilterData = filterData;\r\n        let onFilter = { value, property };\r\n        let newfilterData = getFilterData(oldFilterData, onFilter, null);\r\n        //get filter data\r\n        setFilterData(newfilterData);\r\n        setSelectedRowsKey([]);\r\n    };\r\n\r\n    const showModalAdd = () => {\r\n        setAction('add');\r\n        setDataModalAddEdit({});\r\n        inceaseModalKey();\r\n        setVisibleModalAddEdit(true);\r\n    };\r\n\r\n    const deleteModalAddEdit = (TrangThaiDonID) => {\r\n        Modal.confirm({\r\n            title: 'Xóa Dữ Liệu',\r\n            content: 'Bạn có muốn xóa trạng thái đơn này không?',\r\n            cancelText: 'Không',\r\n            okText: 'Có',\r\n            onOk: () => {\r\n                setConfirmLoading(true);\r\n                api.XoaTrangThaiDon(TrangThaiDonID)\r\n                    .then((res) => {\r\n                        if (res.data.Status > 0) {\r\n                            setConfirmLoading(false);\r\n                            props.getList({\r\n                                ...filterData,\r\n                                PageNumber:\r\n                                  Math.ceil((TotalRow - 1) / filterData.PageSize) <\r\n                                  filterData.PageNumber\r\n                                    ? Math.ceil((TotalRow - 1) / filterData.PageSize)\r\n                                    : filterData.PageNumber,\r\n                              });\r\n                            message.destroy();\r\n                            message.success(res.data.Message);\r\n                            setFilterData({\r\n                                ...filterData,\r\n                                PageNumber:\r\n                                  Math.ceil((TotalRow - 1) / filterData.PageSize) <\r\n                                  filterData.PageNumber\r\n                                    ? Math.ceil((TotalRow - 1) / filterData.PageSize)\r\n                                    : filterData.PageNumber,\r\n                              });\r\n                        } else {\r\n                            message.destroy();\r\n                            message.error(res.data.Message);\r\n                        }\r\n                    })\r\n                    .catch((error) => {\r\n                        message.destroy();\r\n                        message.error(error.toString());\r\n                    });\r\n            },\r\n        });\r\n    };\r\n\r\n    const showModalEdit = (id) => {\r\n        const TrangThaiDonID = id;\r\n        setAction('edit');\r\n        api.ChiTietTrangThaiDon({ TrangThaiDonID })\r\n            .then((res) => {\r\n                if (res.data.Status > 0) {\r\n                    setDataModalAddEdit(res.data.Data);\r\n                    inceaseModalKey();\r\n                    setVisibleModalAddEdit(true);\r\n                } else {\r\n                    message.destroy();\r\n                    message.error(res.data.Message);\r\n                }\r\n            })\r\n            .catch((error) => {\r\n                message.destroy();\r\n                message.error(error.toString());\r\n            });\r\n    };\r\n\r\n    const hideModalAddEdit = () => {\r\n        setSelectedRowsKey([]);\r\n        setDataModalAddEdit({});\r\n        setVisibleModalAddEdit(false);\r\n    };\r\n\r\n    const submitModalAddEdit = (data) => {\r\n        setConfirmLoading(true);\r\n        if (action === 'add') {\r\n            api.ThemTrangThaiDon(data)\r\n                .then((res) => {\r\n                    setConfirmLoading(false);\r\n                    if (res.data.Status > 0) {\r\n                        message.destroy();\r\n                        message.success(res.data.Message);\r\n                        hideModalAddEdit();\r\n                        props.getList(filterData);\r\n                    } else {\r\n                        setConfirmLoading(false);\r\n                        message.destroy();\r\n                        message.error(res.data.Message);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    setConfirmLoading(false);\r\n                    message.destroy();\r\n                    message.error(error.toString());\r\n                });\r\n        }\r\n        if (action === 'edit') {\r\n            api.CapNhatTrangThaiDon(data)\r\n                .then((res) => {\r\n                    if (res.data.Status > 0) {\r\n                        setConfirmLoading(false);\r\n                        message.destroy();\r\n                        message.success(res.data.Message);\r\n                        hideModalAddEdit();\r\n                        props.getList(filterData);\r\n                    } else {\r\n                        setConfirmLoading(false);\r\n                        message.destroy();\r\n                        message.error(res.data.Message);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    setConfirmLoading(false);\r\n                    message.destroy();\r\n                    message.error(error.toString());\r\n                });\r\n        }\r\n    };\r\n\r\n    const renderThaoTac = (record) => {\r\n        return (\r\n            <div className={'action-btn'}>\r\n                {/* {role.edit ? */}\r\n                <Tooltip title={'Sửa'}>\r\n                    <EditOutlined onClick={() => showModalEdit(record.TrangThaiDonID)} />\r\n                </Tooltip>\r\n                {/* : \"\"} */}\r\n                {/* {role.delete ? */}\r\n                <Tooltip title={'Xóa'}>\r\n                    <DeleteOutlined onClick={() => deleteModalAddEdit(record.TrangThaiDonID)} />\r\n                </Tooltip>\r\n                {/* : \"\"} */}\r\n            </div>\r\n        );\r\n    };\r\n\r\n    const renderCheckBox = (record) => {\r\n        return <Checkbox checked={record.TrangThai} />;\r\n    };\r\n\r\n    const { DanhSachTrangThaiDon, TotalRow, role } = props;\r\n    const PageNumber = filterData.PageNumber ? parseInt(filterData.PageNumber) : 1;\r\n    const PageSize = filterData.PageSize ? parseInt(filterData.PageSize) : getDefaultPageSize();\r\n\r\n    const columns = [\r\n        {\r\n            title: 'STT',\r\n            width: '5%',\r\n            align: 'center',\r\n            render: (text, record, index) => <span>{(PageNumber - 1) * PageSize + (index + 1)}</span>,\r\n        },\r\n        {\r\n            title: 'Mã trạng thái đơn',\r\n            dataIndex: 'MaTrangThaiDon',\r\n            align: 'left',\r\n            width: '15%',\r\n        },\r\n        {\r\n            title: 'Tên trạng thái đơn',\r\n            dataIndex: 'TenTrangThaiDon',\r\n            align: 'left',\r\n            width: '25%',\r\n        },\r\n\r\n        {\r\n            title: 'Ghi chú',\r\n            dataIndex: 'GhiChu',\r\n            align: 'left',\r\n            width: '35%',\r\n        },\r\n        {\r\n            title: 'Đang sử dụng',\r\n            align: 'center',\r\n            width: '10%',\r\n            render: (text, record) => renderCheckBox(record),\r\n        },\r\n        {\r\n            title: 'Thao tác',\r\n            width: '10%',\r\n            align: 'center',\r\n            render: (text, record) => renderThaoTac(record),\r\n        },\r\n    ];\r\n\r\n    return (\r\n        <LayoutWrapper>\r\n            <PageHeader>Danh Mục Trạng Thái Đơn</PageHeader>\r\n            <PageAction>\r\n                {/* {role ? role.add ?  */}\r\n                <Button type=\"primary\" onClick={showModalAdd}>\r\n                    <PlusOutlined />\r\n                    Thêm Mới\r\n                </Button>\r\n                {/* //  : '' : ''} */}\r\n            </PageAction>\r\n            <Box>\r\n                <BoxFilter>\r\n                    <Select\r\n                        style={{ width: '200px' }}\r\n                        defaultValue={filterData.Status ? (filterData.Status === 'true' ? 'Đang sử dụng' : 'Không sử dụng') : undefined}\r\n                        placeholder={'Chọn trạng thái'}\r\n                        allowClear\r\n                        onChange={(value) => onFilter(value, 'Status')}\r\n                    >\r\n                        <Option value={true}>Đang sử dụng</Option>\r\n                        <Option value={false}>Không sử dụng</Option>\r\n                    </Select>\r\n                    <InputSearch\r\n                        defaultValue={filterData.Keyword}\r\n                        placeholder={'Nhập mã hoặc tên trạng thái đơn'}\r\n                        style={{ width: 300 }}\r\n                        onSearch={(value) => onFilter(value, 'keyword')}\r\n                        allowClear\r\n                    />\r\n                </BoxFilter>\r\n                <BoxTable\r\n                    columns={columns}\r\n                    dataSource={DanhSachTrangThaiDon}\r\n                    onChange={onTableChange}\r\n                    pagination={{\r\n                        showSizeChanger: true,\r\n                        showTotal: (total, range) => `Từ ${range[0]} đến ${range[1]} trên ${total} kết quả`,\r\n                        total: TotalRow,\r\n                        current: PageNumber,\r\n                        pageSize: PageSize,\r\n                    }}\r\n                    rowKey={(record) => record.TrangThaiDonID}\r\n                />\r\n            </Box>\r\n            <ModalAddEdit\r\n                visible={visibleModalAddEdit}\r\n                dataEdit={dataModalAddEdit}\r\n                action={action}\r\n                loading={confirmLoading}\r\n                key={modalKey}\r\n                onCreate={submitModalAddEdit}\r\n                onCancel={hideModalAddEdit}\r\n                DanhSachTrangThaiDon={DanhSachTrangThaiDon}\r\n            />\r\n        </LayoutWrapper>\r\n    );\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        ...state.DanhMucTrangThaiDon,\r\n        role: getRoleByKey(state.Auth.role),\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(DMTrangThaiDon);\r\n"],"names":["checkbox","ComponentName","styled","palette","AntCheckbox","Checkbox","CheckboxGroup","WDComponentDivAction","ComponentDivAction","WithDirection","props","children","useKey","useState","modalKey","setModalKey","Item","Form","useForm","form","isFormSuccess","setIsFormSuccess","dataEdit","loading","visible","action","value1","setValue1","useEffect","TrangThaiDonID","setFieldsValue","onOk","e","preventDefault","validateFields","value","onCreate","TrangThai","undefined","handleChangedFields","changedValues","allValues","getFieldsValue","MaTrangThaiDon","TenTrangThaiDon","GhiChu","title","width","onCancel","footer","onClick","htmlType","type","disabled","name","onChange","hidden","label","ITEM_LAYOUT","rules","REQUIRED","TextArea","target","defaultValue","connect","state","DanhMucTrangThaiDon","role","getRoleByKey","Auth","actions","document","queryString","location","search","filterData","setFilterData","dataModalAddEdit","setDataModalAddEdit","visibleModalAddEdit","setVisibleModalAddEdit","setAction","inceaseModalKey","setSelectedRowsKey","confirmLoading","setConfirmLoading","changeUrlFilter","getList","onFilter","property","oldFilterData","newfilterData","getFilterData","hideModalAddEdit","renderThaoTac","record","className","EditOutlined","id","api","then","res","data","Status","Data","message","Message","catch","error","toString","showModalEdit","DeleteOutlined","Modal","content","cancelText","okText","PageNumber","Math","ceil","TotalRow","PageSize","DanhSachTrangThaiDon","parseInt","getDefaultPageSize","columns","align","render","text","index","dataIndex","checked","renderCheckBox","PlusOutlined","style","placeholder","allowClear","Option","Keyword","onSearch","dataSource","pagination","filters","sorter","onOrder","newFilterData","showSizeChanger","showTotal","total","range","current","pageSize","rowKey"],"sourceRoot":""}