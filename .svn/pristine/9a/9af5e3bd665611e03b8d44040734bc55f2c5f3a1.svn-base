"use strict";(self.webpackChunkkkts=self.webpackChunkkkts||[]).push([[302,286],{71285:function(e,n,t){t.d(n,{Z:function(){return d}});t(72791);var a,i=t(17186),r=t(63463),c=t(17192),l=r.ZP.div(a||(a=(0,i.Z)(["\n    text-align: right;\n    display: inline-block;\n    flex: 1;\n    padding: 0 3px 0 0;\n    @media only screen and (max-width: 1336px) {\n        text-align: left;\n        display: block;\n        flex: none;\n        width: 100%;\n        padding: 0 0 10px 0;\n    }\n    button {\n        margin-right: 0px;\n        margin-left: 10px;\n        @media only screen and (max-width: 1336px) {\n            margin-left: 0px;\n            margin-right: 10px;\n        }\n    }\n"]))),o=(0,c.Z)(l),u=t(80184),d=function(e){return(0,u.jsx)(o,{children:e.children})}},54302:function(e,n,t){t.r(n),t.d(n,{default:function(){return F}});var a=t(33032),i=t(18489),r=t(50678),c=t(84322),l=t.n(c),o=t(72791),u=t(47375),d=t(4245),s=t(58017),h=t(98793),f=t(65331),D=t.n(f),Z=t(52591),p=t(35667),v=t(71285),y=t(7111),g=t(66914),T=(t(36043),t(10916)),I=t(77027),x=t(64422),m=t(35057),S=t(70297),C=t(80184),k=function(e){var n,t,c=e.visible,u=e.confirmLoading,d=e.onCancel,s=e.action,Z=e.DanhSachDiaGioi,p=e.dataModalEdit,v=e.onCreate,y=T.Z.useForm(),g=(0,r.Z)(y,1)[0],k=T.Z.Item,j=(0,o.useState)(""),P=(0,r.Z)(j,2),b=(P[0],P[1]),E=(0,o.useState)(!0),H=(0,r.Z)(E,2),w=H[0],L=H[1],R=(0,o.useState)(D().TINH),M=(0,r.Z)(R,2),A=M[0],K=M[1],N=(0,o.useState)(h.q.find((function(e){return e.value.toString()==="".concat(D().TINH,"00")})).children),q=(0,r.Z)(N,2),G=q[0],O=q[1],U=(0,o.useState)(""),z=(0,r.Z)(U,2),V=z[0],Y=z[1],_=(0,o.useState)(Z||[]),F=(0,r.Z)(_,2),X=F[0],B=F[1],Q=(0,o.useState)([]),W=(0,r.Z)(Q,2),$=W[0],J=W[1],ee=(0,o.useState)(""),ne=(0,r.Z)(ee,2),te=ne[0],ae=ne[1],ie=(0,o.useState)(""),re=(0,r.Z)(ie,2),ce=re[0],le=re[1],oe=(0,o.useState)(""),ue=(0,r.Z)(oe,2),de=ue[0],se=ue[1],he=(0,o.useState)(V),fe=(0,r.Z)(he,2),De=fe[0],Ze=fe[1],pe=(0,o.useState)(!1),ve=(0,r.Z)(pe,2),ye=ve[0],ge=ve[1];(0,o.useEffect)((function(){if(ge(!!p.Key),p&&p.DanhSachTinh){var e=p.DanhSachTinh,n=p.ID,t=p.Cap,a=p.TinhID,r=p.HuyenID,c=p.Key,l=p.Ten,o=p.TenDayDu;if(t.toString()===D().XA)h.Z.danhSachDiaGioi({ID:a,Cap:D().HUYEN}).then((function(u){if(u.data.Status>0){var d,s,f,D,Z,p,v=u.data.Data,y=null===(d=h.q.find((function(e){return e.value.toString()==="".concat(t,"00")})))||void 0===d||null===(s=d.children[0])||void 0===s?void 0:s.name,T=null===(f=v.find((function(e){return e.ID===r})))||void 0===f?void 0:f.TenDayDu,x={ID:n,Cap:String(t),LoaiDiaDanh:null===(D=h.q.find((function(e){return e.value=="".concat(t,"00")})))||void 0===D||null===(Z=D.children[0])||void 0===Z?void 0:Z.value,TinhID:a,HuyenID:r,Key:c,Ten:l,TenDayDu:o||y};g&&g.setFieldsValue((0,i.Z)({},x)),b(c),J(v),B(e),K(t),O(null===(p=h.q.find((function(e){return e.value.toString()==="".concat(t,"00")})))||void 0===p?void 0:p.children),le(T),Y(y),ae(""),se(l),o?Ze(o):Ie(String(t),y,l,T,null)}else I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:u.data.Message})})).catch((function(e){I.ZP.destroy(),I.ZP.error(D().API_ERROR)}));else{var u,d,s,f,Z,v,y=String(t),T=null===(u=X.find((function(e){return e.ID===a})))||void 0===u?void 0:u.TenDayDu,x=null===(d=h.q.find((function(e){return e.value=="".concat(t,"00")})))||void 0===d||null===(s=d.children[0])||void 0===s?void 0:s.name,m={ID:n,Cap:y,LoaiDiaDanh:null===(f=h.q.find((function(e){return e.value=="".concat(t,"00")})))||void 0===f||null===(Z=f.children[0])||void 0===Z?void 0:Z.value,TinhID:a,HuyenID:null,Key:c,Ten:l,TenDayDu:o||x};g&&g.setFieldsValue((0,i.Z)({},m)),b(c),K(y),B(e),se(l),ae(T),le(""),O(null===(v=h.q.find((function(e){return e.value.toString()==="".concat(t,"00")})))||void 0===v?void 0:v.children),Y(x),o?Ze(o):Ie(y,x,l,null,T)}}}),[]);var Te=function(){var e=(0,a.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,g.validateFields();case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Ie=function(e,n,t){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=t;switch(e){case"1":r=n+" "+t;break;case"2":r=n+" "+t+(i?" - "+i:"");break;case"3":r=n+" "+t+(a?" - "+a:"")}g.setFieldValue("TenDayDu",r),Ze(r)};return(0,C.jsx)(S.u_,{title:"add"===s?"Th\xeam \u0111\u1ecba gi\u1edbi h\xe0nh ch\xednh":"edit"===s?"S\u1eeda \u0111\u1ecba gi\u1edbi h\xe0nh ch\xednh":"Tr\u01b0\u1eddng h\u1ee3p ngo\u1ea1i l\u1ec7",width:500,visible:c,onCancel:d,footer:[(0,C.jsx)(S.zx,{onClick:d,children:"H\u1ee7y"},"back"),(0,C.jsx)(S.zx,{htmlType:"submit",type:"primary",form:"myForm",loading:u,onClick:Te,disabled:w,children:"L\u01b0u"},"submit")],children:(0,C.jsxs)(T.Z,{form:g,id:"myForm",layout:"horizontal",initialValues:{Cap:A,LoaiDiaDanh:null===(n=h.q.find((function(e){return e.value.toString()==="".concat(A,"00")})))||void 0===n||null===(t=n.children[0])||void 0===t?void 0:t.value,TenDayDu:De,Key:""},onValuesChange:function(e,n){var t=n.Ten,a=n.TenDayDu;L(!t||!a)},children:["edit"===s?(0,C.jsx)(k,{style:{display:"none"},name:"ID"}):"",(0,C.jsx)(k,{style:{display:"none"},name:"Key"}),(0,C.jsx)(k,(0,i.Z)((0,i.Z)({label:"C\u1ea5p",name:"Cap"},f.ITEM_LAYOUT),{},{rules:[(0,i.Z)({},f.REQUIRED)],children:(0,C.jsxs)(x.ZP.Group,{onChange:function(e){var n=e.target.value,t=h.q.find((function(e){return e.value.toString()==="".concat(n,"00")})).children,a=t[0];g.setFieldsValue({LoaiDiaDanh:a.value||""}),K(String(n)),O(t||[]),Y(a.name),Ie(String(n),a.name,de,ce,te)},disabled:!("edit"!==s&&!ye),children:[(0,C.jsx)(x.ZP,{value:D().TINH,children:"T\u1ec9nh"}),(0,C.jsx)(x.ZP,{value:D().HUYEN,children:"Huy\u1ec7n"}),(0,C.jsx)(x.ZP,{value:D().XA,children:"X\xe3"})]})})),(0,C.jsx)(k,(0,i.Z)((0,i.Z)({label:"Lo\u1ea1i \u0111\u1ecba danh",name:"LoaiDiaDanh"},f.ITEM_LAYOUT),{},{rules:[(0,i.Z)({},f.REQUIRED)],children:(0,C.jsx)(m.ZP,{allowClear:!0,onChange:function(e){var n,t=(null===(n=G.find((function(n){return n.value===e})))||void 0===n?void 0:n.name)||"";Y(t),Ie(String(A),t,de,ce,te)},children:null===G||void 0===G?void 0:G.map((function(e,n){return(0,C.jsx)(m.Wx,{value:e.value,children:e.name},n)}))})})),A>=D().HUYEN?(0,C.jsx)(k,(0,i.Z)((0,i.Z)({label:"Thu\u1ed9c t\u1ec9nh",name:"TinhID"},f.ITEM_LAYOUT),{},{rules:[(0,i.Z)({},f.REQUIRED)],children:(0,C.jsx)(m.ZP,{showSearch:!0,onChange:function(e){if(e){var n;h.Z.danhSachDiaGioi({ID:e,Cap:D().HUYEN}).then((function(e){e.data.Status>0?J(e.data.Data):(I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:e.data.Message}))})).catch((function(e){I.ZP.destroy(),I.ZP.error(D().API_ERROR)})),g.setFieldValue("HuyenID",null);var t=null===(n=X.find((function(n){return n.ID===e})))||void 0===n?void 0:n.TenDayDu;ae(t),le(""),Ie(String(A),V,de,null,t)}else J([])},disabled:!("edit"!==s&&!ye),children:X.map((function(e){return(0,C.jsx)(m.Wx,{value:e.ID,children:e.Ten},e.ID)}))})})):"",A>=D().XA?(0,C.jsx)(k,(0,i.Z)((0,i.Z)({label:"Thu\u1ed9c huy\u1ec7n",name:"HuyenID"},f.ITEM_LAYOUT),{},{rules:[(0,i.Z)({},f.REQUIRED)],children:(0,C.jsx)(m.ZP,{showSearch:!0,onChange:function(e){var n,t=null===(n=$.find((function(n){return n.ID===e})))||void 0===n?void 0:n.TenDayDu;le(t),Ie(String(A),V,de,t,te)},disabled:!("edit"!==s&&!ye),children:$.map((function(e){return(0,C.jsx)(m.Wx,{value:e.ID,children:e.Ten},e.ID)}))})})):"",(0,C.jsx)(k,(0,i.Z)((0,i.Z)({label:"T\xean"},f.ITEM_LAYOUT),{},{name:"Ten",rules:[f.REQUIRED],children:(0,C.jsx)(S.II,{autoFocus:!0,onInput:function(e){var n=e.target.value;se(n),Ie(String(A),V,n,ce,te)}})})),(0,C.jsx)(k,(0,i.Z)((0,i.Z)({label:"T\xean \u0111\u1ea7y \u0111\u1ee7"},f.ITEM_LAYOUT),{},{name:"TenDayDu",rules:[f.REQUIRED],children:(0,C.jsx)(S.II,{})}))]})})},j=t(66883),P=t(57652),b=t(49389),E=t(55454);var H,w,L=t(28624),R=t(79286),M=t(17186),A=t(63463),K=(A.ZP.div(H||(H=(0,M.Z)(["\n.ant-tree .ant-tree-treenode:not(.ant-tree .ant-tree-treenode-disabled).filter-node .ant-tree-title {\n    color: red;\n}\n"]))),A.ZP.span(w||(w=(0,M.Z)(["\n    svg {\n        margin-right: 10px;\n    }\n    .delete {\n        color: red;\n    }\n    .add {\n        color: green;\n        font-weight: 800;\n    }\n    .stop {\n        color: red;\n    }\n    .check {\n        color: green;\n    }\n"])))),N=t(31303),q=t(36222),G=t(83388),O=t(10294),U=t(31549),z=t(2487),V=t(11532),Y=function e(n,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n.map((function(n){return n.key===t?(0,i.Z)((0,i.Z)({},n),{},{isLeaf:a.length<1,children:a}):n.children?(0,i.Z)((0,i.Z)({},n),{},{children:e(n.children,t,a)}):n}))},_=(0,u.$j)((function(e){return(0,i.Z)((0,i.Z)({},e.DanhMucDiaGioi),{},{heightApp:e.App.height})}),s.Z)((function(e){var n=e.DanhSachDiaGioi,t=e.heightApp,c=e.filterData,u=e.onShowModalAdd,d=e.onShowModalEdit,s=e.onDeleteData,f=e.dataSubmit,Z=(e.setdataSubmit,e.isActionCompleted),p=j.Z.TreeNode,v=(0,o.useState)([]),y=(0,r.Z)(v,2),g=y[0],T=y[1],I=(0,o.useState)([]),x=(0,r.Z)(I,2),m=x[0],S=x[1];(0,o.useEffect)((function(){T(P(n,0))}),[n]),(0,o.useEffect)((function(){Z&&f.data&&E(f)}),[Z,f]);var k=function(){var e=(0,a.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.danhSachDiaGioi(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),P=function(e,n){return null===e||void 0===e?void 0:e.reduce((function(e,t,a){var r={ID:t.ID,Highlight:t.Highlight,ParentID:t.ParentID,Ten:t.Ten,title:t.Ten,key:"".concat(n,"-").concat(a),children:null,isLeaf:t.TotalChildren<1,Cap:t.Cap,TenDayDu:t.TenDayDu,TotalChildren:t.TotalChildren};if(r.TotalChildren>0&&m.includes(r.key)){var l=k((0,i.Z)((0,i.Z)({},c),{},{ID:t.ID,Cap:t.Cap+1})),o=l.Data;1===l.Status&&(r.children=o.map((function(e,n){return{ID:e.ID,Highlight:e.Highlight,ParentID:e.ParentID,Ten:e.Ten,title:e.Ten,key:"".concat(r.key,"-").concat(n),children:null,isLeaf:e.TotalChildren<1,Cap:e.Cap,TenDayDu:e.TenDayDu,TotalChildren:e.TotalChildren}})),e.push(r))}else e.push(r);return e}),[])},b=function(e){var n=e.key,t=e.children,a=e.dataRef;return new Promise((function(e){t?e():h.Z.danhSachDiaGioi((0,i.Z)((0,i.Z)({},c),{},{ID:a.ID,Cap:a.Cap+1>3?3:a.Cap+1})).then((function(t){T((function(e){return Y(e,n,P(t.data.Data,n))})),e()}))}))},E=function(){var e=(0,a.Z)(l().mark((function e(n){var t,a,r,c,o,u,d,s,f,D,Z,p,v,y,I,x,m,S,C,k,j,P,b,E,H,w,L,R;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.data,a=n.action,r=t.Key.split("-"),c=r.length,o=(0,N.Z)(g),e.next=6,h.Z.chiTietDiaGioi({ID:t.ID,Cap:t.Cap});case 6:u=e.sent,d=u.data.Data,s=0,e.t0=d.Cap,e.next=2===e.t0?12:3===e.t0?14:16;break;case 12:return s=d.TinhID,e.abrupt("break",18);case 14:return s=d.HuyenID,e.abrupt("break",18);case 16:return s=0,e.abrupt("break",18);case 18:f={ID:d.ID,Highlight:d.Highlight,ParentID:s,Ten:d.Ten,title:d.Ten,children:null,isLeaf:d.TotalChildren<1,Cap:parseInt(d.Cap),TenDayDu:d.TenDayDu,TotalChildren:d.TotalChildren},e.t1=a,e.next="add"===e.t1?22:"edit"===e.t1?24:"delete"===e.t1?27:34;break;case 22:return c<=1?(f.key="0-".concat(g.length),T([].concat((0,N.Z)(g),[f]))):c>=2&&(D=[],2==c?(p=r[1],D=(null===(Z=o[p])||void 0===Z?void 0:Z.children)||[]):3==c&&(I=r[1],x=r[2],D=(null===(v=o[I])||void 0===v||null===(y=v.children[x])||void 0===y?void 0:y.children)||[]),D.length>0?(f.key="".concat(t.Key,"-").concat(D.length),T(Y(g,t.Key,[].concat((0,N.Z)(D),[f])))):(f.key="".concat(t.Key,"-0"),T(Y(g,t.Key,[f])))),e.abrupt("break",35);case 24:return 2==c?(m=r[1],o[m]=(0,i.Z)((0,i.Z)({},f),{},{key:o[m].key,children:(0,N.Z)(o[m].children)})):3==c?(S=r[1],C=r[2],o[S].children[C]=(0,i.Z)((0,i.Z)({},f),{},{key:o[S].children[C].key,children:(0,N.Z)(o[S].children[C].children)})):4==c&&(k=r[1],j=r[2],P=r[3],o[k].children[j].children[P]=(0,i.Z)((0,i.Z)({},f),{},{key:o[k].children[j].children[P].key,children:(0,N.Z)(o[k].children[j].children[P].children)})),T(o),e.abrupt("break",35);case 27:if(!(c<=1)){e.next=31;break}return e.abrupt("break",35);case 31:2==c?(b=r[1],o.splice(b,1),o=o.map((function(e,n){var t=(0,i.Z)({},e);return t.key="0-".concat(n),t}))):3==c?(E=r[1],H=r[2],o[E].children.splice(H,1),o[E].children=o[E].children.map((function(e,n){var t=(0,i.Z)({},e);return t.key="0-".concat(E,"-").concat(n),t})),o[E].isLeaf=o[E].children.length<1):4==c&&(w=r[1],L=r[2],R=r[3],o[w].children[L].children.splice(R,1),o[w].children[L].children=o[w].children[L].children.map((function(e,n){var t=(0,i.Z)({},e);return t.key="0-".concat(w,"-").concat(L,"-").concat(n),t})),o[w].children[L].isLeaf=o[w].children[L].children.length<1);case 32:return T(o),e.abrupt("break",35);case 34:return e.abrupt("break",35);case 35:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsx)(j.Z,{showLine:!0,defaultExpandedKeys:m,expandedKeys:m,loadData:b,onSelect:function(e,n){var t;if(null!==(t=n.event)&&void 0!==t&&t.includes("select")&&n.nativeEvent.target.outerHTML.toString().includes("ant-dropdown-trigger")){var a=n.node.props.eventKey.toString();if(a){var i=m.indexOf(a);if(-1!==i){var r=(0,N.Z)(m);r.splice(i,1),S(r)}else{var c=[].concat((0,N.Z)(m),[a]);S(c)}}}b(n.node)},onExpand:function(e,n){var t=n.node.key;if(n.expanded)S((function(e){return[].concat((0,N.Z)(e),[t])}));else{var a=m.indexOf(t),i=(0,N.Z)(m);i.splice(a,1),S(i)}b(n.node)},height:t-290,children:function e(n){return n.map((function(n){var t=(0,C.jsxs)(G.Z,{children:[n.Cap.toString()!==D().XA&&(0,C.jsx)(G.Z.Item,{onClick:function(){return function(e,n,t,a){u(e,n,t,a)}(n.ID,n.Cap,n.key,g)},children:(0,C.jsxs)(K,{children:[(0,C.jsx)(U.Z,{className:"add"}),(0,C.jsx)("span",{children:n.Cap.toString()===D().TINH?"Th\xeam m\u1edbi qu\u1eadn/huy\u1ec7n":"Th\xeam m\u1edbi x\xe3/ph\u01b0\u1eddng"})]})},n),(0,C.jsx)(G.Z.Item,{onClick:function(){return function(e,n,t,a){d(e,n,t,a)}(n.ID,n.Cap,n.key,g)},children:(0,C.jsxs)(K,{children:[(0,C.jsx)(z.Z,{className:"edit"}),(0,C.jsx)("span",{children:"S\u1eeda"})]})}),(0,C.jsx)(G.Z.Item,{onClick:function(){return e=n.ID,t=n.Cap,a=n.key,void s(e,t,a);var e,t,a},children:(0,C.jsxs)(K,{children:[(0,C.jsx)(V.Z,{className:"delete"}),(0,C.jsx)("span",{children:"X\xf3a"})]})})]}),a=n.Cap>1?(0,C.jsx)("div",{children:(0,C.jsx)(O.Z,{overlay:t,placement:"bottomLeft",trigger:["contextMenu"],children:(0,C.jsx)("span",{children:n.title})})}):(0,C.jsx)("div",{children:(0,C.jsx)(O.Z,{overlay:t,placement:"bottomLeft",trigger:["contextMenu"],children:(0,C.jsx)("b",{children:n.title})})});return n.children?(0,C.jsx)(p,(0,q.Z)({title:a,isLeaf:n.isLeaf,children:n.children,dataRef:n},"children",e(n.children)),n.key):(0,C.jsx)(p,{title:a,isLeaf:n.isLeaf,children:n.children,dataRef:n},n.key)}))}(g)})})}));j.Z.TreeNode;var F=(0,u.$j)((function(e){return(0,i.Z)((0,i.Z)({},e.DanhMucDiaGioi),{},{heightApp:e.App.height})}),s.Z)((function(e){var n=d.parse(e.location.search),t=(0,o.useState)((0,i.Z)((0,i.Z)({},n),{},{ID:0,Cap:1})),c=(0,r.Z)(t,2),u=c[0],s=c[1],f=(0,o.useState)(0),T=(0,r.Z)(f,2),x=T[0],m=T[1],j=(0,o.useState)([]),H=(0,r.Z)(j,2),w=H[0],M=H[1],A=function(e){var n=(0,o.useRef)();return(0,o.useEffect)((function(){n.current=e}),[e]),n.current}(e.DanhSachDiaGioi),K=(0,o.useState)(!1),N=(0,r.Z)(K,2),q=N[0],G=N[1],O=(0,o.useState)(!1),U=(0,r.Z)(O,2),z=U[0],V=U[1],Y=(0,o.useState)([]),F=(0,r.Z)(Y,2),X=(F[0],F[1]),B=(0,o.useState)(0),Q=(0,r.Z)(B,2),W=Q[0],$=Q[1],J=(0,o.useState)(""),ee=(0,r.Z)(J,2),ne=ee[0],te=ee[1],ae=(0,o.useState)(!1),ie=(0,r.Z)(ae,2),re=ie[0],ce=ie[1],le=(0,o.useState)({DanhSachTinh:[],Cap:"",ID:"",TinhID:"",HuyenID:"",Key:"",Ten:"",TenDayDu:""}),oe=(0,r.Z)(le,2),ue=oe[0],de=oe[1],se=(0,o.useState)([]),he=(0,r.Z)(se,2),fe=(he[0],he[1],e.heightApp,(0,o.useRef)(!1),(0,o.useState)({action:"add",data:null})),De=(0,r.Z)(fe,2),Ze=De[0],pe=De[1];(0,o.useEffect)((function(){document.title="Danh M\u1ee5c T\u1ec9nh - Huy\u1ec7n - X\xe3",e.getInitData(u)}),[]),(0,o.useEffect)((function(){if(A!==e.DanhSachDiaGioi){var n=x+1;M(e.DanhSachDiaGioi),X([]),m(n)}})),(0,o.useEffect)((function(){var e=u.keyword?u.keyword:"";(0,E.ZZ)({keyword:e})}),[u]);var ve=function(e,n,t,a){if(te("add"),ce(!1),e)h.Z.chiTietDiaGioi({ID:e,Cap:n}).then((function(e){if(e.data.Status>0){var n=W+1,i=e.data.Data;de({DanhSachTinh:a,Cap:parseInt(i.Cap)+1,TinhID:i.TinhID?i.TinhID:"",HuyenID:i.HuyenID?i.HuyenID:"",Key:t,ID:"",Ten:"",TenDayDu:""}),V(!0),$(n)}else I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:e.data.Message})})).catch((function(e){I.ZP.destroy(),I.ZP.error(D().API_ERROR)}));else{var i=W+1;V(!0),de({DanhSachTinh:a,Cap:D().TINH,TinhID:"",HuyenID:"",Key:"",ID:"",Ten:"",TenDayDu:""}),$(i)}},ye=function(){V(!1),ce(!0)},ge=function(){var e=(0,a.Z)(l().mark((function e(n){var t,a;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("add"!==ne){e.next=7;break}return G(!0),t="0",n.Cap.toString()===D().HUYEN?t=n.TinhID:n.Cap.toString()===D().XA&&(t=n.HuyenID),n={Cap:n.Cap,Ten:n.Ten,TenDayDu:n.TenDayDu?n.TenDayDu:"pending",ParentID:t,Key:n.Key},e.next=7,h.Z.themDiaGioi(n).then((function(e){G(!1),e.data.Status>0?(I.ZP.destroy(),I.ZP.success(e.data.Message),new Promise((function(t,a){pe({action:"add",data:(0,i.Z)((0,i.Z)({},n),{},{ID:e.data.Data})}),t()})).then((function(){ye()}))):(I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:e.data.Message}),ce(!1))})).catch((function(e){I.ZP.destroy(),I.ZP.error(D().API_ERROR),ce(!1)}));case 7:"edit"==ne&&(G(!0),a="0",n.Cap.toString()===D().HUYEN?a=n.TinhID:n.Cap.toString()===D().XA&&(a=n.HuyenID),n={ID:n.ID,Cap:n.Cap,Ten:n.Ten,TenDayDu:n.TenDayDu,ParentID:a,Key:n.Key},h.Z.suaDiaGioi(n).then((function(e){G(!1),e.data.Status>0?(I.ZP.destroy(),I.ZP.success(e.data.Message),ye(),pe({action:"edit",data:(0,i.Z)({},n)})):(I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:e.data.Message}),ce(!1))})).catch((function(e){I.ZP.destroy(),I.ZP.error(D().API_ERROR),ce(!1)})));case 8:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();e.role;return(0,C.jsxs)(Z.Z,{children:[(0,C.jsx)(p.Z,{children:"DANH M\u1ee4C T\u1ec8NH - HUY\u1ec6N - X\xc3"}),(0,C.jsxs)(v.Z,{children:[(0,C.jsx)("span",{children:(0,C.jsxs)(S.zx,{type:"primary",onClick:function(){return ve("","","")},children:[(0,C.jsx)(R.Z,{}),"Th\xeam m\u1edbi"]})}),(0,C.jsx)("span",{})]}),(0,C.jsxs)(y.Z,{style:{minHeight:"calc(100vh - 265px)"},children:[(0,C.jsx)(g.Z,{children:(0,C.jsx)(b.Z.Search,{allowClear:!0,defaultValue:u.keyword,placeholder:"T\xecm ki\u1ebfm theo t\xean \u0111\u1ecba gi\u1edbi h\xe0nh ch\xednh",onSearch:function(e){return function(e,n){var t=(0,i.Z)({},u),a={value:e,property:n},r=(0,E.mB)(t,a,null);s((0,i.Z)((0,i.Z)({},r),{},{ID:0,Cap:1}))}(e,"keyword")},style:{width:300}})}),(0,C.jsx)(_,{filterData:u,onShowModalAdd:ve,onShowModalEdit:function(e,n,t,a){te("edit"),ce(!1),h.Z.chiTietDiaGioi({ID:e,Cap:n}).then((function(e){if(e.data.Status>0){var n=W+1,i=e.data.Data;V(!0),de({DanhSachTinh:a,ID:i.ID,Cap:i.Cap,Key:t,TinhID:i.TinhID,HuyenID:i.HuyenID,Ten:i.Ten,TenDayDu:i.TenDayDu}),$(n)}else I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:e.data.Message})})).catch((function(e){return alert(e)}))},onDeleteData:function(e,n,t){te("delete");var a="x\xe3/ph\u01b0\u1eddng";1===n?a="t\u1ec9nh/th\xe0nh ph\u1ed1":2===n&&(a="qu\u1eadn/huy\u1ec7n"),P.Z.confirm({icon:(0,C.jsx)(L.Z,{}),title:"X\xf3a d\u1eef li\u1ec7u",content:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a ".concat(a," n\xe0y kh\xf4ng?"),cancelText:"Kh\xf4ng",okText:"C\xf3",onOk:function(){h.Z.xoaDiaGioi({ID:e,Cap:n}).then((function(a){a.data.Status>0?(I.ZP.destroy(),I.ZP.success(a.data.Message),ce(!0),pe({action:"delete",data:{ID:e,Cap:n,Key:t}})):(I.ZP.destroy(),I.ZP.error({title:"L\u1ed7i",content:a.data.Message}),ce(!1))})).catch((function(e){I.ZP.destroy(),I.ZP.error(D().API_ERROR),ce(!1)}))}})},dataSubmit:Ze,setDataModalEdit:de,isActionCompleted:re,action:ne})]}),(0,C.jsx)(k,{DanhSachDiaGioi:w,confirmLoading:q,visible:z,onCancel:ye,onCreate:ge,dataModalEdit:ue,action:ne},W)]})}))},11532:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(88428),i=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"},c=t(54963),l=function(e,n){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:r}))};l.displayName="CloseCircleOutlined";var o=i.forwardRef(l)},2487:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(88428),i=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-792 72h752v120H136V232zm752 560H136V440h752v352zm-237-64h165c4.4 0 8-3.6 8-8v-72c0-4.4-3.6-8-8-8H651c-4.4 0-8 3.6-8 8v72c0 4.4 3.6 8 8 8z"}}]},name:"credit-card",theme:"outlined"},c=t(54963),l=function(e,n){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:r}))};l.displayName="CreditCardOutlined";var o=i.forwardRef(l)},31549:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(88428),i=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},c=t(54963),l=function(e,n){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:r}))};l.displayName="PlusCircleOutlined";var o=i.forwardRef(l)},79286:function(e,n,t){t.d(n,{Z:function(){return o}});var a=t(88428),i=t(72791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},c=t(54963),l=function(e,n){return i.createElement(c.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:n,icon:r}))};l.displayName="PlusOutlined";var o=i.forwardRef(l)}}]);
//# sourceMappingURL=302.7ed817cd.chunk.js.map